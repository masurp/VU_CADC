<!DOCTYPE html>
<html lang="en"><head>
<script src="02_textanalysis_2023_files/libs/clipboard/clipboard.min.js"></script>
<script src="02_textanalysis_2023_files/libs/quarto-html/tabby.min.js"></script>
<script src="02_textanalysis_2023_files/libs/quarto-html/popper.min.js"></script>
<script src="02_textanalysis_2023_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="02_textanalysis_2023_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="02_textanalysis_2023_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="02_textanalysis_2023_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.1.251">

  <meta name="author" content="Dr.&nbsp;Philipp K. Masur">
  <title>Basics of Automated Text Analysis and Dictionary Approaches</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="02_textanalysis_2023_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="02_textanalysis_2023_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="02_textanalysis_2023_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="02_textanalysis_2023_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="02_textanalysis_2023_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="02_textanalysis_2023_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="02_textanalysis_2023_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="https://storage.googleapis.com/exenzo-jobboard/bb/public/thumb/logo-jpg-57.jpg" data-background-position="top right" data-background-size="auto" class="center">
  <h1 class="title">Basics of Automated Text Analysis and Dictionary Approaches</h1>
  <p class="subtitle">Week 2: Wrangling Text and Classification with Wordlists</p>
  <p class="author">Dr.&nbsp;Philipp K. Masur</p>
</section>

<section id="section" class="slide level2" data-background-image="img/britishlibrary.jpg">
<h2></h2>
</section>
<section id="largest-encyclopedias-in-the-world" class="slide level2">
<h2>Largest encyclopedias in the world</h2>
<div class="columns">
<div class="column" style="width:60%;">
<ul>
<li><p>Encyclopedia Britannica</p>
<ul>
<li>maintained by about 100 full-time editors and more than 4,000 contributors</li>
<li>2010 version of the 15th edition, which spans 32 volumes and 32,640 pages, was the last printed edition</li>
<li>Today, 40 million words on half a million topics</li>
</ul></li>
</ul>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:35%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://images.rawpixel.com/image_800/cHJpdmF0ZS9zdGF0aWMvaW1hZ2Uvd2Vic2l0ZS8yMDIyLTA0L2xyL3B4MTMzMTgwMS1pbWFnZS1rejJlYWxtcC5qcGc.jpg"></p>
<p></p><figcaption>Encyclopedia Britannica</figcaption><p></p>
</figure>
</div>
</div>
</div>
<ul>
<li><p>Wikipedia</p>
<ul>
<li>Biggest encyclopedia worldwide</li>
<li>more than 280,000 active editors and 110,461,483 registered users</li>
<li>~61 million articles</li>
</ul></li>
</ul>
</section>
<section id="automated-text-analysis" class="slide level2">
<h2>Automated text analysis…</h2>

<img data-src="img/dictionary01.png" class="r-stretch"></section>
<section id="with-dictionaries" class="slide level2">
<h2>…with dictionaries!</h2>

<img data-src="img/dictionary02.png" class="r-stretch"></section>
<section id="content-of-this-lecture" class="slide level2 smaller">
<h2>Content of this lecture</h2>
<div class="columns">
<div class="column" style="width:45%;">
<ol type="1">
<li><p>Basics of Automated Text Analysis</p>
<p>1.1. Text as Data</p>
<p>1.2. Tokenization</p>
<p>1.3. Ways to Organize Text(s) Numerically</p>
<p>1.4. Text cleaning, stopwords, stemming, lemmatization</p>
<p>1.5. Descriptive Text Analyses</p>
<p>1.6. Keyword-in-Context Searches</p></li>
<li><p>Dictionary Approaches</p>
<p>3.1. Text Classification Pipeline Using Dictionaries</p>
<p>3.3. Feature Engineering</p>
<p>3.4. Text Classification</p>
<p>3.5. Validation</p></li>
</ol>
</div><div class="column" style="width:45%;">
<ol start="4" type="1">
<li><p>Examples from the literature</p>
<p>4.1. Sourcing Pandemic News (Mellado et al., 2021)</p>
<p>4.2. Political discourses on social media (Heidenreich et al., 2019)</p></li>
<li><p>Summary and Conclusion</p></li>
</ol>
</div>
</div>
</section>
<section>
<section id="basics-of-text-analysis" class="title-slide slide level1 center" data-background-color="steelblue">
<h1>Basics of Text Analysis</h1>
<p>From raw text to numerical presentations of texts.</p>
</section>
<section id="basic-text-analysis" class="slide level2">
<h2>Basic Text Analysis</h2>
<ul>
<li><p>Before we start to classify unlabeled text, we often engage in what we call “basic text analysis”</p></li>
<li><p>The first goal is find ways to represent texts in numerical frameworks</p></li>
<li><p>Then, we often want to conduct simple descriptive analyses on the texts (e.g., which words are used most often)</p></li>
</ul>

<img data-src="img/text_analysis_fundamentals/basic_textanalysis.png" class="r-stretch"></section>
<section id="a-challenge-at-the-beginning" class="slide level2">
<h2>A challenge at the beginning</h2>
<ul>
<li><p>Texts are strings composed of words, spaces, numbers, and punctation.</p></li>
<li><p>Handling this type of complex, at times messy, data requires some thought and effort.</p></li>
<li><p>Problem: Algorithms process numbers, they do not read text!</p></li>
<li><p>Consider the following string, representing a (very) short text:</p></li>
</ul>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>text <span class="ot">&lt;-</span> <span class="st">"To be, or not to be: that is the question."</span> </span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">print</span>(text)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb2-1"><a href="#cb2-1"></a>[1] "To be, or not to be: that is the question."</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="from-text-to-tokens" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">From text to tokens</h2>
<ul>
<li><p>The elements in this string do not contain any metadata or information to tell the computer which characters are words and which are not (of course it is easy for us to tell, but not for a computer).</p></li>
<li><p>Identifying these kinds of boundaries between words is where the process of <strong>tokenization</strong> comes in.</p></li>
<li><p>For example, we can use the simple function <code>str_split()</code> to tell R to split the string into separate strings, whenever there is an “white space”, resulting in somewhat meaningful tokens:</p></li>
</ul>
<p><br></p>
<div class="cell" data-r.options="{&quot;width&quot;:80}">
<div class="sourceCode cell-code" id="cb3" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="fu">str_split</span>(text, </span>
<span id="cb3-3"><a href="#cb3-3"></a>          <span class="at">pattern =</span> <span class="st">" "</span>)      <span class="co"># &lt;-- separate words by white space between them</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb4-1"><a href="#cb4-1"></a>[[1]]</span>
<span id="cb4-2"><a href="#cb4-2"></a> [1] "To"        "be,"       "or"        "not"       "to"        "be:"      </span>
<span id="cb4-3"><a href="#cb4-3"></a> [7] "that"      "is"        "the"       "question."</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="from-text-to-tokens-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">From text to tokens</h2>
<ul>
<li><p>The elements in this string do not contain any metadata or information to tell the computer which characters are words and which are not (of course it is easy for us to tell, but not for a computer).</p></li>
<li><p>Identifying these kinds of boundaries between words is where the process of <strong>tokenization</strong> comes in.</p></li>
<li><p>For example, we can use the simple function <code>str_split()</code> to tell R to split the string into separate strings, whenever there is an “white space”, resulting in somewhat meaningful tokens:</p></li>
</ul>
<p><br></p>
<div class="cell" data-r.options="{&quot;width&quot;:80}">
<div class="sourceCode cell-code" id="cb5" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="fu">str_split</span>(text, </span>
<span id="cb5-3"><a href="#cb5-3"></a>          <span class="at">pattern =</span> <span class="st">":"</span>)          <span class="co"># &lt;-- separate words by identifying the colon</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb6-1"><a href="#cb6-1"></a>[[1]]</span>
<span id="cb6-2"><a href="#cb6-2"></a>[1] "To be, or not to be"    " that is the question."</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="from-text-to-tokens-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">From text to tokens</h2>
<ul>
<li><p>The elements in this string do not contain any metadata or information to tell the computer which characters are words and which are not (of course it is easy for us to tell, but not for a computer).</p></li>
<li><p>Identifying these kinds of boundaries between words is where the process of <strong>tokenization</strong> comes in.</p></li>
<li><p>For example, we can use the simple function <code>str_split()</code> to tell R to split the string into separate strings, whenever there is an “white space”, resulting in somewhat meaningful tokens:</p></li>
</ul>
<p><br></p>
<div class="cell" data-r.options="{&quot;width&quot;:80}">
<div class="sourceCode cell-code" id="cb7" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="fu">str_split</span>(text, </span>
<span id="cb7-3"><a href="#cb7-3"></a>          <span class="at">pattern =</span> <span class="st">"[[:punct:]]"</span>)  <span class="co"># &lt;-- separate words by identifying punctuation symbols</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb8-1"><a href="#cb8-1"></a>[[1]]</span>
<span id="cb8-2"><a href="#cb8-2"></a>[1] "To be"                 " or not to be"         " that is the question"</span>
<span id="cb8-3"><a href="#cb8-3"></a>[4] ""                     </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="tokenization" class="slide level2">
<h2>Tokenization</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Separating based on white space or specific “regular expressions” sounds correct intuitively, but is not a very principled approach</p></li>
<li><p>More generally, tokenization means:</p>
<ul>
<li>taking an input (e.g., a string of characters that represent natural language) and</li>
<li>a token type (a meaningful unit of text, such as a character, word, or sentence)</li>
<li>and splitting the input (string) into pieces (tokens) that correspond to the type (e.g., word)</li>
</ul></li>
</ul>
</div><div class="column" style="width:48%;">
<p><img data-src="img/tokenization.png"></p>
</div>
</div>
</section>
<section id="understanding-tokenization" class="slide level2">
<h2>Understanding tokenization</h2>
<p>There are many different R packages for implementing tokenization, e.g., tokenizers, quanteda, tidytext…</p>
<div class="cell" data-r.options="{&quot;width&quot;:200}">
<div class="sourceCode cell-code" id="cb9" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">library</span>(tokenizers)</span>
<span id="cb9-2"><a href="#cb9-2"></a>text_data <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">docid =</span> <span class="fu">paste0</span>(<span class="st">"text"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>),</span>
<span id="cb9-3"><a href="#cb9-3"></a>                    <span class="at">author =</span> <span class="fu">c</span>(<span class="st">"William Shakespeare"</span>, <span class="st">"William Wordsworth"</span>), </span>
<span id="cb9-4"><a href="#cb9-4"></a>                    <span class="at">work =</span> <span class="fu">c</span>(<span class="st">"Hamlet"</span>, <span class="st">"The Tables Turned"</span>),</span>
<span id="cb9-5"><a href="#cb9-5"></a>                    <span class="at">text =</span> <span class="fu">c</span>(<span class="st">"To be, or not to be: that is the question."</span>, </span>
<span id="cb9-6"><a href="#cb9-6"></a>                             <span class="st">"Come forth into the light of things, Let Nature be your teacher."</span>))</span>
<span id="cb9-7"><a href="#cb9-7"></a>text_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb10-1"><a href="#cb10-1"></a># A tibble: 2 × 4</span>
<span id="cb10-2"><a href="#cb10-2"></a>  docid author              work              text                                                            </span>
<span id="cb10-3"><a href="#cb10-3"></a>  &lt;chr&gt; &lt;chr&gt;               &lt;chr&gt;             &lt;chr&gt;                                                           </span>
<span id="cb10-4"><a href="#cb10-4"></a>1 text1 William Shakespeare Hamlet            To be, or not to be: that is the question.                      </span>
<span id="cb10-5"><a href="#cb10-5"></a>2 text2 William Wordsworth  The Tables Turned Come forth into the light of things, Let Nature be your teacher.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="cell" data-r.options="{&quot;width&quot;:200}">
<div class="sourceCode cell-code" id="cb11" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>text_data<span class="sc">$</span>text <span class="sc">|&gt;</span></span>
<span id="cb11-2"><a href="#cb11-2"></a>  <span class="fu">tokenize_words</span>()   <span class="co"># &lt;-- tokenize into words using the "tokenizers" package</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb12-1"><a href="#cb12-1"></a>[[1]]</span>
<span id="cb12-2"><a href="#cb12-2"></a> [1] "to"       "be"       "or"       "not"      "to"       "be"       "that"     "is"       "the"      "question"</span>
<span id="cb12-3"><a href="#cb12-3"></a></span>
<span id="cb12-4"><a href="#cb12-4"></a>[[2]]</span>
<span id="cb12-5"><a href="#cb12-5"></a> [1] "come"    "forth"   "into"    "the"     "light"   "of"      "things"  "let"     "nature"  "be"      "your"    "teacher"</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="types-of-tokens" class="slide level2">
<h2>Types of Tokens</h2>
<ul>
<li><p>Thinking of a token as a <strong>word</strong> is a useful start.</p></li>
<li><p>Tokenizing at the word level is perhaps the most common and widely used tokenization.</p></li>
<li><p>However, we can generalize the idea of a token beyond only a single word to other units of text.</p></li>
</ul>
<p><br></p>
<center>
<table>
<colgroup>
<col style="width: 25%">
<col style="width: 75%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Type of token</th>
<th style="text-align: left;">Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">characters</td>
<td style="text-align: left;">“I”, “l”, “o”, “v”, “e”, “y”, “o”, “u”, “v”, “e”, “r” ,“y”,…</td>
</tr>
<tr class="even">
<td style="text-align: left;">words</td>
<td style="text-align: left;">“I”, “love”, “you”, “very”, “much”</td>
</tr>
<tr class="odd">
<td style="text-align: left;">sentences</td>
<td style="text-align: left;">“I love you very much”</td>
</tr>
<tr class="even">
<td style="text-align: left;">lines</td>
<td style="text-align: left;">“He went to her and said ’I love”, “you very much.’ She responded quickly”</td>
</tr>
<tr class="odd">
<td style="text-align: left;">bi-grams</td>
<td style="text-align: left;">“I love”, “love you”, “you very,”very much”</td>
</tr>
<tr class="even">
<td style="text-align: left;">n-grams</td>
<td style="text-align: left;">“I love you”, “love you very”, “you very much”</td>
</tr>
</tbody>
</table>
</center>
</section>
<section id="more-than-one-word-n-grams" class="slide level2">
<h2>More than one word: n-grams</h2>
<ul>
<li><p>The simplest case is a bigram (or 2-gram), where each feature is a pair of adjacent words.</p></li>
<li><p>Notice how the words in the bigrams overlap so that the word “be” appears at the end of the first bigram and beginning of the second bigram</p></li>
<li><p>In other words, n-gram tokenization slides along the text to create overlapping sets of tokens</p></li>
</ul>
<div class="cell" data-r.options="{&quot;width&quot;:120}">
<div class="sourceCode cell-code" id="cb13" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>text_data<span class="sc">$</span>text <span class="sc">|&gt;</span> </span>
<span id="cb13-2"><a href="#cb13-2"></a>  <span class="fu">tokenize_ngrams</span>(<span class="at">n =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb14"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb14-1"><a href="#cb14-1"></a>[[1]]</span>
<span id="cb14-2"><a href="#cb14-2"></a>[1] "to be"        "be or"        "or not"       "not to"       "to be"        "be that"      "that is"     </span>
<span id="cb14-3"><a href="#cb14-3"></a>[8] "is the"       "the question"</span>
<span id="cb14-4"><a href="#cb14-4"></a></span>
<span id="cb14-5"><a href="#cb14-5"></a>[[2]]</span>
<span id="cb14-6"><a href="#cb14-6"></a> [1] "come forth"   "forth into"   "into the"     "the light"    "light of"     "of things"    "things let"  </span>
<span id="cb14-7"><a href="#cb14-7"></a> [8] "let nature"   "nature be"    "be your"      "your teacher"</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="logic-of-n-grams" class="slide level2">
<h2>Logic of n-grams</h2>
<ul>
<li><p>Using a higher value for <code>n</code> keeps more information, but the vector space of tokens increases dramatically, corresponding to a reduction in token counts.</p></li>
<li><p>The longer the n-gram, the larger the list of unique combinations, which leads to a worse data scarcity problems, so even more attention must be paid to feature selection and/or trimming</p></li>
</ul>

<img data-src="02_textanalysis_2023_files/figure-revealjs/unnamed-chunk-8-1.png" width="960" class="r-stretch"></section>
<section id="a-tidy-format-for-text-analysis" class="slide level2">
<h2>A tidy format for text analysis</h2>

<img data-src="img/tidy_format.png" class="r-stretch"></section>
<section id="the-tidytext-package" class="slide level2">
<h2>The “tidytext” package</h2>
<div class="columns">
<div class="column" style="width:38%;">
<ul>
<li><p>In this course, we will use the package <code>tidytext</code>, whose core data format is a regular data frame where each row is a word</p></li>
<li><p>The function <code>unnest_tokens()</code> also tokenizes, but the resulting data structure differs (a tidy data set)</p></li>
<li><p>It thereby determines how we move forward in our analysis</p></li>
</ul>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:60%;">
<div class="cell" data-r.options="list(width = 80)" data-output-location="fragment">
<div class="sourceCode cell-code" id="cb15" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="fu">library</span>(tidytext)</span>
<span id="cb15-2"><a href="#cb15-2"></a>tokens <span class="ot">&lt;-</span> text_data<span class="sc">|&gt;</span></span>
<span id="cb15-3"><a href="#cb15-3"></a>  <span class="fu">unnest_tokens</span>(word, text)   </span>
<span id="cb15-4"><a href="#cb15-4"></a><span class="fu">print</span>(tokens, <span class="at">n =</span> <span class="dv">20</span>)         </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb16-1"><a href="#cb16-1"></a># A tibble: 22 × 4</span>
<span id="cb16-2"><a href="#cb16-2"></a>   docid author              work              word    </span>
<span id="cb16-3"><a href="#cb16-3"></a>   &lt;chr&gt; &lt;chr&gt;               &lt;chr&gt;             &lt;chr&gt;   </span>
<span id="cb16-4"><a href="#cb16-4"></a> 1 text1 William Shakespeare Hamlet            to      </span>
<span id="cb16-5"><a href="#cb16-5"></a> 2 text1 William Shakespeare Hamlet            be      </span>
<span id="cb16-6"><a href="#cb16-6"></a> 3 text1 William Shakespeare Hamlet            or      </span>
<span id="cb16-7"><a href="#cb16-7"></a> 4 text1 William Shakespeare Hamlet            not     </span>
<span id="cb16-8"><a href="#cb16-8"></a> 5 text1 William Shakespeare Hamlet            to      </span>
<span id="cb16-9"><a href="#cb16-9"></a> 6 text1 William Shakespeare Hamlet            be      </span>
<span id="cb16-10"><a href="#cb16-10"></a> 7 text1 William Shakespeare Hamlet            that    </span>
<span id="cb16-11"><a href="#cb16-11"></a> 8 text1 William Shakespeare Hamlet            is      </span>
<span id="cb16-12"><a href="#cb16-12"></a> 9 text1 William Shakespeare Hamlet            the     </span>
<span id="cb16-13"><a href="#cb16-13"></a>10 text1 William Shakespeare Hamlet            question</span>
<span id="cb16-14"><a href="#cb16-14"></a>11 text2 William Wordsworth  The Tables Turned come    </span>
<span id="cb16-15"><a href="#cb16-15"></a>12 text2 William Wordsworth  The Tables Turned forth   </span>
<span id="cb16-16"><a href="#cb16-16"></a>13 text2 William Wordsworth  The Tables Turned into    </span>
<span id="cb16-17"><a href="#cb16-17"></a>14 text2 William Wordsworth  The Tables Turned the     </span>
<span id="cb16-18"><a href="#cb16-18"></a>15 text2 William Wordsworth  The Tables Turned light   </span>
<span id="cb16-19"><a href="#cb16-19"></a>16 text2 William Wordsworth  The Tables Turned of      </span>
<span id="cb16-20"><a href="#cb16-20"></a>17 text2 William Wordsworth  The Tables Turned things  </span>
<span id="cb16-21"><a href="#cb16-21"></a>18 text2 William Wordsworth  The Tables Turned let     </span>
<span id="cb16-22"><a href="#cb16-22"></a>19 text2 William Wordsworth  The Tables Turned nature  </span>
<span id="cb16-23"><a href="#cb16-23"></a>20 text2 William Wordsworth  The Tables Turned be      </span>
<span id="cb16-24"><a href="#cb16-24"></a># ℹ 2 more rows</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="how-to-present-text-numerically" class="slide level2">
<h2>How to present text numerically?</h2>
<div class="columns">
<div class="column" style="width:60%;">
<ul>
<li><p>The simplest approach is to count how many times each unique token is included in each text</p></li>
<li><p>By summarizing our tokens across documents and words, we gain a first numerical presentation of our data</p></li>
<li><p>The resulting tidy data frame contains three columns</p>
<ul>
<li><strong>doc_id:</strong> A unique identifier for each document in the corpus</li>
<li><strong>word:</strong> the list of words included in each document</li>
<li><strong>n:</strong> The number of times the word appears in each document</li>
</ul></li>
</ul>
</div><div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb17" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>tokens <span class="sc">|&gt;</span></span>
<span id="cb17-2"><a href="#cb17-2"></a>  <span class="fu">group_by</span>(docid, word) <span class="sc">|&gt;</span>   </span>
<span id="cb17-3"><a href="#cb17-3"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span></span>
<span id="cb17-4"><a href="#cb17-4"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb18"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb18-1"><a href="#cb18-1"></a># A tibble: 20 × 3</span>
<span id="cb18-2"><a href="#cb18-2"></a># Groups:   docid [2]</span>
<span id="cb18-3"><a href="#cb18-3"></a>   docid word         n</span>
<span id="cb18-4"><a href="#cb18-4"></a>   &lt;chr&gt; &lt;chr&gt;    &lt;int&gt;</span>
<span id="cb18-5"><a href="#cb18-5"></a> 1 text1 be           2</span>
<span id="cb18-6"><a href="#cb18-6"></a> 2 text1 to           2</span>
<span id="cb18-7"><a href="#cb18-7"></a> 3 text1 is           1</span>
<span id="cb18-8"><a href="#cb18-8"></a> 4 text1 not          1</span>
<span id="cb18-9"><a href="#cb18-9"></a> 5 text1 or           1</span>
<span id="cb18-10"><a href="#cb18-10"></a> 6 text1 question     1</span>
<span id="cb18-11"><a href="#cb18-11"></a> 7 text1 that         1</span>
<span id="cb18-12"><a href="#cb18-12"></a> 8 text1 the          1</span>
<span id="cb18-13"><a href="#cb18-13"></a> 9 text2 be           1</span>
<span id="cb18-14"><a href="#cb18-14"></a>10 text2 come         1</span>
<span id="cb18-15"><a href="#cb18-15"></a>11 text2 forth        1</span>
<span id="cb18-16"><a href="#cb18-16"></a>12 text2 into         1</span>
<span id="cb18-17"><a href="#cb18-17"></a>13 text2 let          1</span>
<span id="cb18-18"><a href="#cb18-18"></a>14 text2 light        1</span>
<span id="cb18-19"><a href="#cb18-19"></a>15 text2 nature       1</span>
<span id="cb18-20"><a href="#cb18-20"></a>16 text2 of           1</span>
<span id="cb18-21"><a href="#cb18-21"></a>17 text2 teacher      1</span>
<span id="cb18-22"><a href="#cb18-22"></a>18 text2 the          1</span>
<span id="cb18-23"><a href="#cb18-23"></a>19 text2 things       1</span>
<span id="cb18-24"><a href="#cb18-24"></a>20 text2 your         1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="the-document-term-matrix-dtm" class="slide level2">
<h2>The document-term matrix (DTM)</h2>
<ul>
<li><p>Based on this summarized table, we can quickly create one of the most common text as data representations: the document-term matrix (also called the term-document matrix or document-feature matrix)</p></li>
<li><p>It represents a set of documents as a matrix, where each row represents a document, each column represents a term (word), and the numbers in each cell show how often that word occurs in that document.</p></li>
<li><p>This is very similar to a standard two-dimensional data set (e.g., resulting from a survey) and can thus be treated similarly</p></li>
</ul>
<div class="cell" data-r.options="{&quot;width&quot;:120}">
<div class="sourceCode cell-code" id="cb19" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>tokens <span class="sc">|&gt;</span></span>
<span id="cb19-2"><a href="#cb19-2"></a>  <span class="fu">group_by</span>(docid, word) <span class="sc">|&gt;</span>          <span class="co"># &lt;-- group by document id and word</span></span>
<span id="cb19-3"><a href="#cb19-3"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span>             <span class="co"># &lt;-- summarize number of words per document</span></span>
<span id="cb19-4"><a href="#cb19-4"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> word,    <span class="co"># &lt;-- transform from long to wide</span></span>
<span id="cb19-5"><a href="#cb19-5"></a>              <span class="at">values_from =</span> n) <span class="sc">%&gt;%</span>  </span>
<span id="cb19-6"><a href="#cb19-6"></a>  <span class="fu">replace</span>(<span class="fu">is.na</span>(.), <span class="dv">0</span>)              <span class="co"># &lt;-- replace NAs with zero</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb20"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb20-1"><a href="#cb20-1"></a># A tibble: 2 × 19</span>
<span id="cb20-2"><a href="#cb20-2"></a># Groups:   docid [2]</span>
<span id="cb20-3"><a href="#cb20-3"></a>  docid    be    is   not    or question  that   the    to  come forth  into   let light nature    of teacher things</span>
<span id="cb20-4"><a href="#cb20-4"></a>  &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;  &lt;int&gt; &lt;int&gt;   &lt;int&gt;  &lt;int&gt;</span>
<span id="cb20-5"><a href="#cb20-5"></a>1 text1     2     1     1     1        1     1     1     2     0     0     0     0     0      0     0       0      0</span>
<span id="cb20-6"><a href="#cb20-6"></a>2 text2     1     0     0     0        0     0     1     0     1     1     1     1     1      1     1       1      1</span>
<span id="cb20-7"><a href="#cb20-7"></a># ℹ 1 more variable: your &lt;int&gt;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="tidy-format-vs.-dtm" class="slide level2">
<h2>Tidy format vs.&nbsp;DTM</h2>

<img data-src="img/tidy_format2.png" class="r-stretch"></section>
<section id="the-state-of-the-union-speeches-corpus" class="slide level2">
<h2>The State of the Union Speeches Corpus</h2>
<ul>
<li><p>For the following explanation, we are going to look at a more realistic corpus of texts.</p></li>
<li><p>This corpus contains all State of the Union (SOTU) speeches of U.S. presidents from 1790 to 2020.</p></li>
</ul>

<img data-src="https://s26162.pcdn.co/wp-content/uploads/2019/05/us-prsidents.jpg" class="r-stretch"></section>
<section id="the-data-set" class="slide level2">
<h2>The Data Set</h2>
<div class="cell" data-r.options="{&quot;width&quot;:120}">
<div class="sourceCode cell-code" id="cb21" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="fu">library</span>(sotu)</span>
<span id="cb21-2"><a href="#cb21-2"></a>sotu_text <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(sotu_meta, <span class="at">text =</span> sotu_text) <span class="sc">|&gt;</span>  <span class="co"># &lt;-- bind texts and meta data</span></span>
<span id="cb21-3"><a href="#cb21-3"></a>  <span class="fu">rename</span>(<span class="at">docid =</span> X) <span class="sc">|&gt;</span>                                  <span class="co"># &lt;-- rename unique identifier</span></span>
<span id="cb21-4"><a href="#cb21-4"></a>  <span class="fu">as_tibble</span>()                                           <span class="co"># &lt;-- transform to tidy format</span></span>
<span id="cb21-5"><a href="#cb21-5"></a><span class="fu">print</span>(sotu_text, <span class="at">n =</span> <span class="dv">25</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment" data-r.options="{&quot;width&quot;:120}">
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb22"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb22-1"><a href="#cb22-1"></a># A tibble: 240 × 7</span>
<span id="cb22-2"><a href="#cb22-2"></a>   docid president          year years_active party                 sotu_type text                                      </span>
<span id="cb22-3"><a href="#cb22-3"></a>   &lt;int&gt; &lt;chr&gt;             &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;                 &lt;chr&gt;     &lt;chr&gt;                                     </span>
<span id="cb22-4"><a href="#cb22-4"></a> 1     1 George Washington  1790 1789-1793    Nonpartisan           speech    "Fellow-Citizens of the Senate and House …</span>
<span id="cb22-5"><a href="#cb22-5"></a> 2     2 George Washington  1790 1789-1793    Nonpartisan           speech    "\n\n Fellow-Citizens of the Senate and H…</span>
<span id="cb22-6"><a href="#cb22-6"></a> 3     3 George Washington  1791 1789-1793    Nonpartisan           speech    "\n\n Fellow-Citizens of the Senate and H…</span>
<span id="cb22-7"><a href="#cb22-7"></a> 4     4 George Washington  1792 1789-1793    Nonpartisan           speech    "Fellow-Citizens of the Senate and House …</span>
<span id="cb22-8"><a href="#cb22-8"></a> 5     5 George Washington  1793 1793-1797    Nonpartisan           speech    "\n\n Fellow-Citizens of the Senate and H…</span>
<span id="cb22-9"><a href="#cb22-9"></a> 6     6 George Washington  1794 1793-1797    Nonpartisan           speech    "\n\n Fellow-Citizens of the Senate and H…</span>
<span id="cb22-10"><a href="#cb22-10"></a> 7     7 George Washington  1795 1793-1797    Nonpartisan           speech    "\n\nFellow-Citizens of the Senate and Ho…</span>
<span id="cb22-11"><a href="#cb22-11"></a> 8     8 George Washington  1796 1793-1797    Nonpartisan           speech    "\n\n Fellow-Citizens of the Senate and H…</span>
<span id="cb22-12"><a href="#cb22-12"></a> 9     9 John Adams         1797 1797-1801    Federalist            speech    "\n\n Gentlemen of the Senate and Gentlem…</span>
<span id="cb22-13"><a href="#cb22-13"></a>10    10 John Adams         1798 1797-1801    Federalist            speech    "\n\n Gentlemen of the Senate and Gentlem…</span>
<span id="cb22-14"><a href="#cb22-14"></a>11    11 John Adams         1799 1797-1801    Federalist            speech    "\n\n Gentlemen of the Senate and Gentlem…</span>
<span id="cb22-15"><a href="#cb22-15"></a>12    12 John Adams         1800 1797-1801    Federalist            speech    "\n\n Gentlemen of the Senate and Gentlem…</span>
<span id="cb22-16"><a href="#cb22-16"></a>13    13 Thomas Jefferson   1801 1801-1805    Democratic-Republican written   "\n\n Fellow Citizens of the Senate and H…</span>
<span id="cb22-17"><a href="#cb22-17"></a>14    14 Thomas Jefferson   1802 1801-1805    Democratic-Republican written   "\n\n To the Senate and House of Represen…</span>
<span id="cb22-18"><a href="#cb22-18"></a>15    15 Thomas Jefferson   1803 1801-1805    Democratic-Republican written   "\n\n To The Senate and House of Represen…</span>
<span id="cb22-19"><a href="#cb22-19"></a>16    16 Thomas Jefferson   1804 1801-1805    Democratic-Republican written   "\n\n The Senate and House of Representat…</span>
<span id="cb22-20"><a href="#cb22-20"></a>17    17 Thomas Jefferson   1805 1805-1809    Democratic-Republican written   "\n\n The Senate and House of Representat…</span>
<span id="cb22-21"><a href="#cb22-21"></a>18    18 Thomas Jefferson   1806 1805-1809    Democratic-Republican written   "\n\n The Senate and House of Representat…</span>
<span id="cb22-22"><a href="#cb22-22"></a>19    19 Thomas Jefferson   1807 1805-1809    Democratic-Republican written   "\n\n The Senate and House of Representat…</span>
<span id="cb22-23"><a href="#cb22-23"></a>20    20 Thomas Jefferson   1808 1805-1809    Democratic-Republican written   "\n\n The Senate and House of Representat…</span>
<span id="cb22-24"><a href="#cb22-24"></a>21    21 James Madison      1809 1809-1813    Democratic-Republican written   "\n\n Fellow-Citizens of the Senate and H…</span>
<span id="cb22-25"><a href="#cb22-25"></a>22    22 James Madison      1810 1809-1813    Democratic-Republican written   "\n\n Fellow-Citizens of the Senate and H…</span>
<span id="cb22-26"><a href="#cb22-26"></a>23    23 James Madison      1811 1809-1813    Democratic-Republican written   "\n\n Fellow-Citizens of the Senate and H…</span>
<span id="cb22-27"><a href="#cb22-27"></a>24    24 James Madison      1812 1809-1813    Democratic-Republican written   "\n\n Fellow-Citizens of the Senate and H…</span>
<span id="cb22-28"><a href="#cb22-28"></a>25    25 James Madison      1813 1813-1817    Democratic-Republican written   "\n\n Fellow-Citizens of the Senate and H…</span>
<span id="cb22-29"><a href="#cb22-29"></a># ℹ 215 more rows</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="a-speech-by-barack-obama-in-2009" class="slide level2">
<h2>A speech by Barack Obama in 2009</h2>
<div class="columns">
<div class="column" style="width:80%;">
<div class="cell" data-r.options="{&quot;width&quot;:120}">
<div class="sourceCode cell-code" id="cb23" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>sotu_text <span class="sc">|&gt;</span></span>
<span id="cb23-2"><a href="#cb23-2"></a>  <span class="fu">filter</span>(president <span class="sc">==</span> <span class="st">"Barack Obama"</span> <span class="sc">&amp;</span> year <span class="sc">==</span> <span class="st">"2009"</span>) <span class="sc">|&gt;</span> <span class="co"># &lt;-- filter based on name and year</span></span>
<span id="cb23-3"><a href="#cb23-3"></a>  <span class="fu">select</span>(text) <span class="sc">|&gt;</span>                                         <span class="co"># &lt;-- select only text</span></span>
<span id="cb23-4"><a href="#cb23-4"></a>  <span class="fu">as.character</span>() <span class="sc">|&gt;</span>                                       <span class="co"># &lt;-- transform to characters</span></span>
<span id="cb23-5"><a href="#cb23-5"></a>  <span class="fu">writeLines</span>()                                            <span class="co"># &lt;-- print all lines</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb24"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb24-1"><a href="#cb24-1"></a>Madam Speaker, Mr. Vice President, Members of Congress, the First Lady of the United States--she's around here somewhere: I have come here tonight not only to address the distinguished men and women in this great Chamber, but to speak frankly and directly to the men and women who sent us here. </span>
<span id="cb24-2"><a href="#cb24-2"></a></span>
<span id="cb24-3"><a href="#cb24-3"></a>I know that for many Americans watching right now, the state of our economy is a concern that rises above all others, and rightly so. If you haven't been personally affected by this recession, you probably know someone who has: a friend, a neighbor, a member of your family. You don't need to hear another list of statistics to know that our economy is in crisis, because you live it every day. It's the worry you wake up with and the source of sleepless nights. It's the job you thought you'd retire from but now have lost, the business you built your dreams upon that's now hanging by a thread, the college acceptance letter your child had to put back in the envelope. The impact of this recession is real, and it is everywhere. </span>
<span id="cb24-4"><a href="#cb24-4"></a></span>
<span id="cb24-5"><a href="#cb24-5"></a>But while our economy may be weakened and our confidence shaken, though we are living through difficult and uncertain times, tonight I want every American to know this: We will rebuild, we will recover, and the United States of America will emerge stronger than before. </span>
<span id="cb24-6"><a href="#cb24-6"></a></span>
<span id="cb24-7"><a href="#cb24-7"></a>The weight of this crisis will not determine the destiny of this Nation. The answers to our problems don't lie beyond our reach. They exist in our laboratories and our universities, in our fields and our factories, in the imaginations of our entrepreneurs and the pride of the hardest working people on Earth. Those qualities that have made America the greatest force of progress and prosperity in human history, we still possess in ample measure. What is required now is for this country to pull together, confront boldly the challenges we face, and take responsibility for our future once more. </span>
<span id="cb24-8"><a href="#cb24-8"></a></span>
<span id="cb24-9"><a href="#cb24-9"></a>Now, if we're honest with ourselves, we'll admit that for too long, we have not always met these responsibilities as a Government or as a people. I say this not to lay blame or to look backwards, but because it is only by understanding how we arrived at this moment that we'll be able to lift ourselves out of this predicament. </span>
<span id="cb24-10"><a href="#cb24-10"></a></span>
<span id="cb24-11"><a href="#cb24-11"></a>The fact is, our economy did not fall into decline overnight, nor did all of our problems begin when the housing market collapsed or the stock market sank. We have known for decades that our survival depends on finding new sources of energy, yet we import more oil today than ever before. The cost of health care eats up more and more of our savings each year, yet we keep delaying reform. Our children will compete for jobs in a global economy that too many of our schools do not prepare them for. And though all these challenges went unsolved, we still managed to spend more money and pile up more debt, both as individuals and through our Government, than ever before. </span>
<span id="cb24-12"><a href="#cb24-12"></a></span>
<span id="cb24-13"><a href="#cb24-13"></a>In other words, we have lived through an era where too often short-term gains were prized over long-term prosperity, where we failed to look beyond the next payment, the next quarter, or the next election. A surplus became an excuse to transfer wealth to the wealthy instead of an opportunity to invest in our future. Regulations were gutted for the sake of a quick profit at the expense of a healthy market. People bought homes they knew they couldn't afford from banks and lenders who pushed those bad loans anyway. And all the while, critical debates and difficult decisions were put off for some other time, on some other day. Well, that day of reckoning has arrived, and the time to take charge of our future is here. </span>
<span id="cb24-14"><a href="#cb24-14"></a></span>
<span id="cb24-15"><a href="#cb24-15"></a>Now is the time to act boldly and wisely to not only revive this economy, but to build a new foundation for lasting prosperity. Now is the time to jump-start job creation, restart lending, and invest in areas like energy, health care, and education that will grow our economy, even as we make hard choices to bring our deficit down. That is what my economic agenda is designed to do, and that is what I'd like to talk to you about tonight. It's an agenda that begins with jobs. </span>
<span id="cb24-16"><a href="#cb24-16"></a></span>
<span id="cb24-17"><a href="#cb24-17"></a>As soon as I took office, I asked this Congress to send me a recovery plan by President's Day that would put people back to work and put money in their pockets, not because I believe in bigger Government--I don't--not because I'm not mindful of the massive debt we've inherited--I am. I called for action because the failure to do so would have cost more jobs and caused more hardship. In fact, a failure to act would have worsened our long-term deficit by assuring weak economic growth for years. And that's why I pushed for quick action. And tonight I am grateful that this Congress delivered and pleased to say that the American Recovery and Reinvestment Act is now law. </span>
<span id="cb24-18"><a href="#cb24-18"></a></span>
<span id="cb24-19"><a href="#cb24-19"></a>Over the next 2 years, this plan will save or create 3.5 million jobs. More than 90 percent of these jobs will be in the private sector: jobs rebuilding our roads and bridges, constructing wind turbines and solar panels, laying broadband and expanding mass transit. </span>
<span id="cb24-20"><a href="#cb24-20"></a></span>
<span id="cb24-21"><a href="#cb24-21"></a>Because of this plan, there are teachers who can now keep their jobs and educate our kids, health care professionals can continue caring for our sick. There are 57 police officers who are still on the streets of Minneapolis tonight because this plan prevented the layoffs their department was about to make. Because of this plan, 95 percent of working households in America will receive a tax cut; a tax cut that you will see in your paychecks beginning on April 1st. Because of this plan, families who are struggling to pay tuition costs will receive a $2,500 tax credit for all 4 years of college, and Americans who have lost their jobs in this recession will be able to receive extended unemployment benefits and continued health care coverage to help them weather this storm. </span>
<span id="cb24-22"><a href="#cb24-22"></a></span>
<span id="cb24-23"><a href="#cb24-23"></a>Now, I know there are some in this Chamber and watching at home who are skeptical of whether this plan will work, and I understand that skepticism. Here in Washington, we've all seen how quickly good intentions can turn into broken promises and wasteful spending. And with a plan of this scale comes enormous responsibility to get it right. </span>
<span id="cb24-24"><a href="#cb24-24"></a></span>
<span id="cb24-25"><a href="#cb24-25"></a>And that's why I've asked Vice President Biden to lead a tough, unprecedented oversight effort; because nobody messes with Joe. I--am I right? They don't mess with him. I have told each of my Cabinet, as well as mayors and Governors across the country, that they will be held accountable by me and the American people for every dollar they spend. I've appointed a proven and aggressive Inspector General to ferret out any and all cases of waste and fraud. And we have created a new web site called recovery.gov, so that every American can find out how and where their money is being spent. </span>
<span id="cb24-26"><a href="#cb24-26"></a></span>
<span id="cb24-27"><a href="#cb24-27"></a>So the recovery plan we passed is the first step in getting our economy back on track. But it is just the first step. Because even if we manage this plan flawlessly, there will be no real recovery unless we clean up the credit crisis that has severely weakened our financial system. </span>
<span id="cb24-28"><a href="#cb24-28"></a></span>
<span id="cb24-29"><a href="#cb24-29"></a>I want to speak plainly and candidly about this issue tonight, because every American should know that it directly affects you and your family's well-being. You should also know that the money you've deposited in banks across the country is safe, your insurance is secure, you can rely on the continued operation of our financial system. That's not the source of concern. The concern is that if we do not restart lending in this country, our recovery will be choked off before it even begins. </span>
<span id="cb24-30"><a href="#cb24-30"></a></span>
<span id="cb24-31"><a href="#cb24-31"></a>You see, the flow of credit is the lifeblood of our economy. The ability to get a loan is how you finance the purchase of everything from a home to a car to a college education, how stores stock their shelves, farms buy equipment, and businesses make payroll. </span>
<span id="cb24-32"><a href="#cb24-32"></a></span>
<span id="cb24-33"><a href="#cb24-33"></a>But credit has stopped flowing the way it should. Too many bad loans from the housing crisis have made their way onto the books of too many banks. And with so much debt and so little confidence, these banks are now fearful of lending out any more money to households, to businesses, or even to each other. And when there is no lending, families can't afford to buy homes or cars, so businesses are forced to make layoffs. Our economy suffers even more, and credit dries up even further. That is why this administration is moving swiftly and aggressively to break this destructive cycle, to restore confidence, and restart lending. And we will do so in several ways. </span>
<span id="cb24-34"><a href="#cb24-34"></a></span>
<span id="cb24-35"><a href="#cb24-35"></a>First, we are creating a new lending fund that represents the largest effort ever to help provide auto loans, college loans, and small-business loans to the consumers and entrepreneurs who keep this economy running. </span>
<span id="cb24-36"><a href="#cb24-36"></a></span>
<span id="cb24-37"><a href="#cb24-37"></a>Second, we have launched a housing plan that will help responsible families facing the threat of foreclosure lower their monthly payments and refinance their mortgages. It's a plan that won't help speculators or that neighbor down the street who bought a house he could never hope to afford, but it will help millions of Americans who are struggling with declining home values; Americans who will now be able to take advantage of the lower interest rates that this plan has already helped to bring about. In fact, the average family who refinances today can save nearly $2,000 per year on their mortgage. </span>
<span id="cb24-38"><a href="#cb24-38"></a></span>
<span id="cb24-39"><a href="#cb24-39"></a>Third, we will act with the full force of the Federal Government to ensure that the major banks that Americans depend on have enough confidence and enough money to lend even in more difficult times. And when we learn that a major bank has serious problems, we will hold accountable those responsible, force the necessary adjustments, provide the support to clean up their balance sheets, and assure the continuity of a strong, viable institution that can serve our people and our economy. </span>
<span id="cb24-40"><a href="#cb24-40"></a></span>
<span id="cb24-41"><a href="#cb24-41"></a>Now, I understand that on any given day, Wall Street may be more comforted by an approach that gives bank bailouts with no strings attached and that holds nobody accountable for their reckless decisions. But such an approach won't solve the problem, and our goal is to quicken the day when we restart lending to the American people and American business and end this crisis once and for all. </span>
<span id="cb24-42"><a href="#cb24-42"></a></span>
<span id="cb24-43"><a href="#cb24-43"></a>And I intend to hold these banks fully accountable for the assistance they receive, and this time, they will have to clearly demonstrate how taxpayer dollars result in more lending for the American taxpayer. This time, CEOs won't be able to use taxpayer money to pad their paychecks or buy fancy drapes or disappear on a private jet. Those days are over. </span>
<span id="cb24-44"><a href="#cb24-44"></a></span>
<span id="cb24-45"><a href="#cb24-45"></a>Still, this plan will require significant resources from the Federal Government--and, yes, probably more than we've already set aside. But while the cost of action will be great, I can assure you that the cost of inaction will be far greater, for it could result in an economy that sputters along for not months or years, but perhaps a decade. That would be worse for our deficit, worse for business, worse for you, and worse for the next generation. And I refuse to let that happen. </span>
<span id="cb24-46"><a href="#cb24-46"></a></span>
<span id="cb24-47"><a href="#cb24-47"></a>Now, I understand that when the last administration asked this Congress to provide assistance for struggling banks, Democrats and Republicans alike were infuriated by the mismanagement and the results that followed. So were the American taxpayers; so was I. So I know how unpopular it is to be seen as helping banks right now, especially when everyone is suffering in part from their bad decisions. I promise you, I get it. </span>
<span id="cb24-48"><a href="#cb24-48"></a></span>
<span id="cb24-49"><a href="#cb24-49"></a>But I also know that in a time of crisis, we cannot afford to govern out of anger or yield to the politics of the moment. My job--our job is to solve the problem. Our job is to govern with a sense of responsibility. I will not send--I will not spend a single penny for the purpose of rewarding a single Wall Street executive, but I will do whatever it takes to help the small business that can't pay its workers or the family that has saved and still can't get a mortgage. That's what this is about. It's not about helping banks; it's about helping people.  </span>
<span id="cb24-50"><a href="#cb24-50"></a></span>
<span id="cb24-51"><a href="#cb24-51"></a>It's not about helping banks; it's about helping people. Because when credit is available again, that young family can finally buy a new home. And then some company will hire workers to build it. And then those workers will have money to spend. And if they can get a loan too, maybe they'll finally buy that car or open their own business. Investors will return to the market, and American families will see their retirement secured once more. Slowly but surely, confidence will return and our economy will recover. </span>
<span id="cb24-52"><a href="#cb24-52"></a></span>
<span id="cb24-53"><a href="#cb24-53"></a>So I ask this Congress to join me in doing whatever proves necessary, because we cannot consign our Nation to an open-ended recession. And to ensure that a crisis of this magnitude never happens again, I ask Congress to move quickly on legislation that will finally reform our outdated regulatory system. It is time to put in place tough, new, commonsense rules of the road so that our financial market rewards drive and innovation, and punishes shortcuts and abuse. </span>
<span id="cb24-54"><a href="#cb24-54"></a></span>
<span id="cb24-55"><a href="#cb24-55"></a>The recovery plan and the financial stability plan are the immediate steps we're taking to revive our economy in the short term. But the only way to fully restore America's economic strength is to make the long-term investments that will lead to new jobs, new industries, and a renewed ability to compete with the rest of the world. The only way this century will be another American century is if we confront at last the price of our dependence on oil and the high cost of health care, the schools that aren't preparing our children and the mountain of debt they stand to inherit. That is our responsibility. </span>
<span id="cb24-56"><a href="#cb24-56"></a></span>
<span id="cb24-57"><a href="#cb24-57"></a>In the next few days, I will submit a budget to Congress. So often, we've come to view these documents as simply numbers on a page or a laundry list of programs. I see this document differently. I see it as a vision for America, as a blueprint for our future. </span>
<span id="cb24-58"><a href="#cb24-58"></a></span>
<span id="cb24-59"><a href="#cb24-59"></a>My budget does not attempt to solve every problem or address every issue. It reflects the stark reality of what we've inherited, a trillion-dollar deficit, a financial crisis, and a costly recession. Given these realities, everyone in this Chamber, Democrats and Republicans, will have to sacrifice some worthy priorities for which there are no dollars. And that includes me. But that does not mean we can afford to ignore our long-term challenges. I reject the view that says our problems will simply take care of themselves, that says Government has no role in laying the foundation for our common prosperity. </span>
<span id="cb24-60"><a href="#cb24-60"></a></span>
<span id="cb24-61"><a href="#cb24-61"></a>For history tells a different story. History reminds us that at every moment of economic upheaval and transformation, this Nation has responded with bold action and big ideas. In the midst of Civil War, we laid railroad tracks from one coast to another that spurred commerce and industry. From the turmoil of the Industrial Revolution came a system of public high schools that prepared our citizens for a new age. In the wake of war and depression, the GI bill sent a generation to college and created the largest middle class in history. And a twilight struggle for freedom led to a nation of highways, an American on the Moon, and an explosion of technology that still shapes our world. In each case, Government didn't supplant private enterprise; it catalyzed private enterprise. It created the conditions for thousands of entrepreneurs and new businesses to adapt and to thrive. </span>
<span id="cb24-62"><a href="#cb24-62"></a></span>
<span id="cb24-63"><a href="#cb24-63"></a>We are a nation that has seen promise amid peril and claimed opportunity from ordeal. Now we must be that nation again, and that is why, even as it cuts back on programs we don't need, the budget I submit will invest in the three areas that are absolutely critical to our economic future: energy, health care, and education. </span>
<span id="cb24-64"><a href="#cb24-64"></a></span>
<span id="cb24-65"><a href="#cb24-65"></a>It begins with energy. We know the country that harnesses the power of clean, renewable energy will lead the 21st century. And yet, it is China that has launched the largest effort in history to make their economy energy efficient. We invented solar technology, but we've fallen behind countries like Germany and Japan in producing it. New plug-in hybrids roll off our assembly lines, but they will run on batteries made in Korea. Well, I do not accept a future where the jobs and industries of tomorrow take root beyond our borders, and I know you don't either. It is time for America to lead again. </span>
<span id="cb24-66"><a href="#cb24-66"></a></span>
<span id="cb24-67"><a href="#cb24-67"></a>Thanks to our recovery plan, we will double this Nation's supply of renewable energy in the next 3 years. We've also made the largest investment in basic research funding in American history, an investment that will spur not only new discoveries in energy but breakthroughs in medicine and science and technology. </span>
<span id="cb24-68"><a href="#cb24-68"></a></span>
<span id="cb24-69"><a href="#cb24-69"></a>We will soon lay down thousands of miles of power lines that can carry new energy to cities and towns across this country. And we will put Americans to work making our homes and buildings more efficient so that we can save billions of dollars on our energy bills. </span>
<span id="cb24-70"><a href="#cb24-70"></a></span>
<span id="cb24-71"><a href="#cb24-71"></a>But to truly transform our economy, to protect our security, and save our planet from the ravages of climate change, we need to ultimately make clean, renewable energy the profitable kind of energy. So I ask this Congress to send me legislation that places a market-based cap on carbon pollution and drives the production of more renewable energy in America. That's what we need. And to support that innovation, we will invest $15 billion a year to develop technologies like wind power and solar power, advanced biofuels, clean coal, and more efficient cars and trucks built right here in America. </span>
<span id="cb24-72"><a href="#cb24-72"></a></span>
<span id="cb24-73"><a href="#cb24-73"></a>Speaking of our auto industry, everyone recognizes that years of bad decisionmaking and a global recession have pushed our automakers to the brink. We should not, and will not, protect them from their own bad practices. But we are committed to the goal of a retooled, reimagined auto industry that can compete and win. Millions of jobs depend on it; scores of communities depend on it. And I believe the Nation that invented the automobile cannot walk away from it. </span>
<span id="cb24-74"><a href="#cb24-74"></a></span>
<span id="cb24-75"><a href="#cb24-75"></a>Now, none of this will come without cost, nor will it be easy. But this is America. We don't do what's easy. We do what's necessary to move this country forward. </span>
<span id="cb24-76"><a href="#cb24-76"></a></span>
<span id="cb24-77"><a href="#cb24-77"></a>And for that same reason, we must also address the crushing cost of health care. This is a cost that now causes a bankruptcy in America every 30 seconds. By the end of the year, it could cause 1.5 million Americans to lose their homes. In the last 8 years, premiums have grown four times faster than wages. And in each of these years, 1 million more Americans have lost their health insurance. It is one of the major reasons why small businesses close their doors and corporations ship jobs overseas. And it's one of the largest and fastest growing parts of our budget. Given these facts, we can no longer afford to put health care reform on hold. We can't afford to do it. It's time. </span>
<span id="cb24-78"><a href="#cb24-78"></a></span>
<span id="cb24-79"><a href="#cb24-79"></a>Already, we've done more to advance the cause of health care reform in the last 30 days than we've done in the last decade. When it was days old, this Congress passed a law to provide and protect health insurance for 11 million American children whose parents work full time. Our recovery plan will invest in electronic health records, a new technology that will reduce errors, bring down costs, ensure privacy, and save lives. It will launch a new effort to conquer a disease that has touched the life of nearly every American, including me, by seeking a cure for cancer in our time. And it makes the largest investment ever in preventive care, because that's one of the best ways to keep our people healthy and our costs under control. </span>
<span id="cb24-80"><a href="#cb24-80"></a></span>
<span id="cb24-81"><a href="#cb24-81"></a>This budget builds on these reforms. It includes a historic commitment to comprehensive health care reform, a down payment on the principle that we must have quality, affordable health care for every American. It's a commitment that's paid for in part by efficiencies in our system that are long overdue. And it's a step we must take if we hope to bring down our deficit in the years to come. </span>
<span id="cb24-82"><a href="#cb24-82"></a></span>
<span id="cb24-83"><a href="#cb24-83"></a>Now, there will be many different opinions and ideas about how to achieve reform, and that's why I'm bringing together businesses and workers, doctors and health care providers, Democrats and Republicans to begin work on this issue next week. </span>
<span id="cb24-84"><a href="#cb24-84"></a></span>
<span id="cb24-85"><a href="#cb24-85"></a>I suffer no illusions that this will be an easy process. Once again, it will be hard. But I also know that nearly a century after Teddy Roosevelt first called for reform, the cost of our health care has weighed down our economy and our conscience long enough. So let there be no doubt: Health care reform cannot wait, it must not wait, and it will not wait another year. </span>
<span id="cb24-86"><a href="#cb24-86"></a></span>
<span id="cb24-87"><a href="#cb24-87"></a>The third challenge we must address is the urgent need to expand the promise of education in America. In a global economy where the most valuable skill you can sell is your knowledge, a good education is no longer just a pathway to opportunity, it is a prerequisite. Right now, three-quarters of the fastest growing occupations require more than a high school diploma. And yet, just over half of our citizens have that level of education. We have one of the highest high school dropout rates of any industrialized nation, and half of the students who begin college never finish. </span>
<span id="cb24-88"><a href="#cb24-88"></a></span>
<span id="cb24-89"><a href="#cb24-89"></a>This is a prescription for economic decline, because we know the countries that out-teach us today will outcompete us tomorrow. That is why it will be the goal of this administration to ensure that every child has access to a complete and competitive education, from the day they are born to the day they begin a career. That is a promise we have to make to the children of America. </span>
<span id="cb24-90"><a href="#cb24-90"></a></span>
<span id="cb24-91"><a href="#cb24-91"></a>Already, we've made historic investment in education through the economic recovery plan. We've dramatically expanded early childhood education and will continue to improve its quality, because we know that the most formative learning comes in those first years of life. We've made college affordable for nearly 7 million more students--7 million. And we have provided the resources necessary to prevent painful cuts and teacher layoffs that would set back our children's progress. </span>
<span id="cb24-92"><a href="#cb24-92"></a></span>
<span id="cb24-93"><a href="#cb24-93"></a>But we know that our schools don't just need more resources, they need more reform. And that is why this budget creates new teachers--new incentives for teacher performance, pathways for advancement, and rewards for success. We'll invest in innovative programs that are already helping schools meet high standards and close achievement gaps, and we will expand our commitment to charter schools. </span>
<span id="cb24-94"><a href="#cb24-94"></a></span>
<span id="cb24-95"><a href="#cb24-95"></a>It is our responsibility as lawmakers and as educators to make this system work. But it is the responsibility of every citizen to participate in it. So tonight I ask every American to commit to at least 1 year or more of higher education or career training. This can be community college or a 4-year school, vocational training or an apprenticeship. But whatever the training may be, every American will need to get more than a high school diploma. </span>
<span id="cb24-96"><a href="#cb24-96"></a></span>
<span id="cb24-97"><a href="#cb24-97"></a>And dropping out of high school is no longer an option. It's not just quitting on yourself, it's quitting on your country, and this country needs and values the talents of every American. That's why we will support--we will provide the support necessary for all young Americans to complete college and meet a new goal. By 2020, America will once again have the highest proportion of college graduates in the world. That is a goal we can meet. That's a goal we can meet. </span>
<span id="cb24-98"><a href="#cb24-98"></a></span>
<span id="cb24-99"><a href="#cb24-99"></a>Now, I know that the price of tuition is higher than ever, which is why if you are willing to volunteer in your neighborhood or give back to your community or serve your country, we will make sure that you can afford a higher education. And to encourage a renewed spirit of national service for this and future generations, I ask Congress to send me the bipartisan legislation that bears the name of Senator Orrin Hatch, as well as an American who has never stopped asking what he can do for his country, Senator Edward Kennedy. </span>
<span id="cb24-100"><a href="#cb24-100"></a></span>
<span id="cb24-101"><a href="#cb24-101"></a>These education policies will open the doors of opportunity for our children, but it is up to us to ensure they walk through them. In the end, there is no program or policy that can substitute for a parent, for a mother or father who will attend those parent-teacher conferences or help with homework or turn off the TV, put away the video games, read to their child. I speak to you not just as a President, but as a father, when I say that responsibility for our children's education must begin at home. That is not a Democratic issue or a Republican issue; that's an American issue. </span>
<span id="cb24-102"><a href="#cb24-102"></a></span>
<span id="cb24-103"><a href="#cb24-103"></a>There is, of course, another responsibility we have to our children. And that's the responsibility to ensure that we do not pass on to them a debt they cannot pay. That is critical.  I agree, absolutely. See, I know we can get some consensus in here. [Laughter] With the deficit we inherited, the cost of the crisis we face, and the long-term challenges we must meet, it has never been more important to ensure that as our economy recovers, we do what it takes to bring this deficit down. That is critical. </span>
<span id="cb24-104"><a href="#cb24-104"></a></span>
<span id="cb24-105"><a href="#cb24-105"></a>Now, I'm proud that we passed a recovery plan free of earmarks, and I want to pass a budget next year that ensures that each dollar we spend reflects only our most important national priorities. </span>
<span id="cb24-106"><a href="#cb24-106"></a></span>
<span id="cb24-107"><a href="#cb24-107"></a>And yesterday I held a fiscal summit where I pledged to cut the deficit in half by the end of my first term in office. My administration has also begun to go line by line through the Federal budget in order to eliminate wasteful and ineffective programs. As you can imagine, this is a process that will take some time. But we have already identified $2 trillion in savings over the next decade. </span>
<span id="cb24-108"><a href="#cb24-108"></a></span>
<span id="cb24-109"><a href="#cb24-109"></a>In this budget, we will end education programs that don't work and end direct payments to large agribusiness that don't need them. We'll eliminate the no-bid contracts that have wasted billions in Iraq and reform our defense budget so that we're not paying for cold war-era weapons systems we don't use. We will root out the waste and fraud and abuse in our Medicare program that doesn't make our seniors any healthier. We will restore a sense of fairness and balance to our Tax Code by finally ending the tax breaks for corporations that ship our jobs overseas. </span>
<span id="cb24-110"><a href="#cb24-110"></a></span>
<span id="cb24-111"><a href="#cb24-111"></a>In order to save our children from a future of debt, we will also end the tax breaks for the wealthiest 2 percent of Americans. Now, let me be clear--let me be absolutely clear, because I know you'll end up hearing some of the same claims that rolling back these tax breaks means a massive tax increase on the American people: If your family earns less than $250,000 a year, a quarter million dollars a year, you will not see your taxes increased a single dime. I repeat: Not one single dime. In fact--not a dime--in fact, the recovery plan provides a tax cut--that's right, a tax cut--for 95 percent of working families. And by the way, these checks are on the way. </span>
<span id="cb24-112"><a href="#cb24-112"></a></span>
<span id="cb24-113"><a href="#cb24-113"></a>Now, to preserve our long-term fiscal health, we must also address the growing costs in Medicare and Social Security. Comprehensive health care reform is the best way to strengthen Medicare for years to come. And we must also begin a conversation on how to do the same for Social Security, while creating tax-free universal savings accounts for all Americans. </span>
<span id="cb24-114"><a href="#cb24-114"></a></span>
<span id="cb24-115"><a href="#cb24-115"></a>Finally, because we're also suffering from a deficit of trust, I am committed to restoring a sense of honesty and accountability to our budget. That is why this budget looks ahead 10 years and accounts for spending that was left out under the old rules. And for the first time, that includes the full cost of fighting in Iraq and Afghanistan. For 7 years, we have been a nation at war. No longer will we hide its price. </span>
<span id="cb24-116"><a href="#cb24-116"></a></span>
<span id="cb24-117"><a href="#cb24-117"></a>Along with our outstanding national security team, I'm now carefully reviewing our policies in both wars, and I will soon announce a way forward in Iraq that leaves Iraq to its people and responsibly ends this war. </span>
<span id="cb24-118"><a href="#cb24-118"></a></span>
<span id="cb24-119"><a href="#cb24-119"></a>And with our friends and allies, we will forge a new and comprehensive strategy for Afghanistan and Pakistan to defeat Al Qaida and combat extremism, because I will not allow terrorists to plot against the American people from safe havens halfway around the world. We will not allow it. </span>
<span id="cb24-120"><a href="#cb24-120"></a></span>
<span id="cb24-121"><a href="#cb24-121"></a>As we meet here tonight, our men and women in uniform stand watch abroad and more are readying to deploy. To each and every one of them and to the families who bear the quiet burden of their absence, Americans are united in sending one message: We honor your service; we are inspired by your sacrifice; and you have our unyielding support. </span>
<span id="cb24-122"><a href="#cb24-122"></a></span>
<span id="cb24-123"><a href="#cb24-123"></a>To relieve the strain on our forces, my budget increases the number of our soldiers and marines. And to keep our sacred trust with those who serve, we will raise their pay and give our veterans the expanded health care and benefits that they have earned. </span>
<span id="cb24-124"><a href="#cb24-124"></a></span>
<span id="cb24-125"><a href="#cb24-125"></a>To overcome extremism, we must also be vigilant in upholding the values our troops defend, because there is no force in the world more powerful than the example of America. And that is why I have ordered the closing of the detention center at Guantanamo Bay and will seek swift and certain justice for captured terrorists. Because living our values doesn't make us weaker, it makes us safer and it makes us stronger. And that is why I can stand here tonight and say without exception or equivocation that the United States of America does not torture. We can make that commitment here tonight. </span>
<span id="cb24-126"><a href="#cb24-126"></a></span>
<span id="cb24-127"><a href="#cb24-127"></a>In words and deeds, we are showing the world that a new era of engagement has begun. For we know that America cannot meet the threats of this century alone, but the world cannot meet them without America. We cannot shun the negotiating table, nor ignore the foes or forces that could do us harm. We are instead called to move forward with the sense of confidence and candor that serious times demand. </span>
<span id="cb24-128"><a href="#cb24-128"></a></span>
<span id="cb24-129"><a href="#cb24-129"></a>To seek progress towards a secure and lasting peace between Israel and her neighbors, we have appointed an envoy to sustain our effort. To meet the challenges of the 21st century--from terrorism to nuclear proliferation, from pandemic disease to cyber threats to crushing poverty--we will strengthen old alliances, forge new ones, and use all elements of our national power. </span>
<span id="cb24-130"><a href="#cb24-130"></a></span>
<span id="cb24-131"><a href="#cb24-131"></a>And to respond to an economic crisis that is global in scope, we are working with the nations of the G-20 to restore confidence in our financial system, avoid the possibility of escalating protectionism, and spur demand for American goods in markets across the globe. For the world depends on us having a strong economy, just as our economy depends on the strength of the world's. </span>
<span id="cb24-132"><a href="#cb24-132"></a></span>
<span id="cb24-133"><a href="#cb24-133"></a>As we stand at this crossroads of history, the eyes of all people in all nations are once again upon us, watching to see what we do with this moment, waiting for us to lead. Those of us gathered here tonight have been called to govern in extraordinary times. It is a tremendous burden, but also a great privilege, one that has been entrusted to few generations of Americans. For in our hands lies the ability to shape our world for good or for ill. </span>
<span id="cb24-134"><a href="#cb24-134"></a></span>
<span id="cb24-135"><a href="#cb24-135"></a>I know that it's easy to lose sight of this truth, to become cynical and doubtful, consumed with the petty and the trivial. But in my life, I have also learned that hope is found in unlikely places, that inspiration often comes not from those with the most power or celebrity, but from the dreams and aspirations of ordinary Americans who are anything but ordinary. </span>
<span id="cb24-136"><a href="#cb24-136"></a></span>
<span id="cb24-137"><a href="#cb24-137"></a>I think of Leonard Abess, a bank president from Miami who reportedly cashed out of his company, took a $60 million bonus, and gave it out to all 399 people who worked for him, plus another 72 who used to work for him. He didn't tell anyone, but when the local newspaper found out, he simply said, "I knew some of these people since I was 7 years old. It didn't feel right getting the money myself." </span>
<span id="cb24-138"><a href="#cb24-138"></a></span>
<span id="cb24-139"><a href="#cb24-139"></a>I think about Greensburg, Kansas, a town that was completely destroyed by a tornado, but is being rebuilt by its residents as a global example of how clean energy can power an entire community, how it can bring jobs and businesses to a place where piles of bricks and rubble once lay. "The tragedy was terrible," said one of the men who helped them rebuild. "But the folks here know that it also provided an incredible opportunity." </span>
<span id="cb24-140"><a href="#cb24-140"></a></span>
<span id="cb24-141"><a href="#cb24-141"></a>I think about Ty'Sheoma Bethea, the young girl from that school I visited in Dillon, South Carolina, a place where the ceilings leak, the paint peels off the walls, and they have to stop teaching six times a day because the train barrels by their classroom. She had been told that her school is hopeless, but the other day after class she went to the public library and typed up a letter to the people sitting in this Chamber. She even asked her principal for the money to buy a stamp. The letter asks us for help and says: "We are just students trying to become lawyers, doctors, Congressmen like yourself, and one day President, so we can make a change to not just the State of South Carolina, but also the world. We are not quitters." That's what she said: "We are not quitters." </span>
<span id="cb24-142"><a href="#cb24-142"></a></span>
<span id="cb24-143"><a href="#cb24-143"></a>These words and these stories tell us something about the spirit of the people who sent us here. They tell us that even in the most trying times, amid the most difficult circumstances, there is a generosity, a resilience, a decency, and a determination that perseveres, a willingness to take responsibility for our future and for posterity. Their resolve must be our inspiration. Their concerns must be our cause. And we must show them and all our people that we are equal to the task before us. </span>
<span id="cb24-144"><a href="#cb24-144"></a></span>
<span id="cb24-145"><a href="#cb24-145"></a>I know--look, I know that we haven't agreed on every issue thus far. [Laughter] There are surely times in the future where we will part ways. But I also know that every American who is sitting here tonight loves this country and wants it to succeed. I know that. That must be the starting point for every debate we have in the coming months and where we return after those debates are done. That is the foundation on which the American people expect us to build common ground. </span>
<span id="cb24-146"><a href="#cb24-146"></a></span>
<span id="cb24-147"><a href="#cb24-147"></a>And if we do, if we come together and lift this Nation from the depths of this crisis, if we put our people back to work and restart the engine of our prosperity, if we confront without fear the challenges of our time and summon that enduring spirit of an America that does not quit, then someday years from now our children can tell their children that this was the time when we performed, in the words that are carved into this very Chamber, "something worthy to be remembered." </span>
<span id="cb24-148"><a href="#cb24-148"></a></span>
<span id="cb24-149"><a href="#cb24-149"></a>Thank you. God bless you, and may God bless the United States of America. Thank you.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:18%;">
<p><img data-src="https://upload.wikimedia.org/wikipedia/commons/2/2b/Official_portrait_of_Barack_Obama_%28cropped%29.jpg"></p>
</div>
</div>
</section>
<section id="the-dtm-as-a-sparse-matrix" class="slide level2">
<h2>The DTM as a sparse matrix</h2>
<ul>
<li>We can use the function <code>cast_dfm()</code> to transforming the tidy “one-term-per-document-per-row” into a document-term (feature) matrix as used in the quite commonly used <code>quanteda</code> package</li>
</ul>
<div class="cell" data-r.options="{&quot;width&quot;:120}">
<div class="sourceCode cell-code" id="cb25" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>tidy_text <span class="ot">&lt;-</span> sotu_text <span class="sc">|&gt;</span></span>
<span id="cb25-2"><a href="#cb25-2"></a>  <span class="fu">unnest_tokens</span>(word, text) <span class="sc">|&gt;</span>                         <span class="co"># &lt;-- tokenize into words and tidy format</span></span>
<span id="cb25-3"><a href="#cb25-3"></a>  <span class="fu">group_by</span>(docid, word) <span class="sc">|&gt;</span>                             <span class="co"># &lt;-- group by document id and words</span></span>
<span id="cb25-4"><a href="#cb25-4"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span>                                <span class="co"># &lt;-- summarize number of words per document</span></span>
<span id="cb25-5"><a href="#cb25-5"></a>  <span class="fu">ungroup</span>()                                            <span class="co"># &lt;-- ungroup the data set (to be sure)</span></span>
<span id="cb25-6"><a href="#cb25-6"></a>dfm_text <span class="ot">&lt;-</span> tidy_text <span class="sc">|&gt;</span> </span>
<span id="cb25-7"><a href="#cb25-7"></a>  <span class="fu">cast_dfm</span>(<span class="at">document =</span> docid, <span class="at">term =</span> word,  <span class="at">value =</span> n)  <span class="co"># &lt;-- create document-term matrix</span></span>
<span id="cb25-8"><a href="#cb25-8"></a>dfm_text</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb26"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb26-1"><a href="#cb26-1"></a>Document-feature matrix of: 240 documents, 30,585 features (94.12% sparse) and 0 docvars.</span>
<span id="cb26-2"><a href="#cb26-2"></a>    features</span>
<span id="cb26-3"><a href="#cb26-3"></a>docs  a abroad accession according add adequate administration admitted adopted advancement</span>
<span id="cb26-4"><a href="#cb26-4"></a>   1 21      1         1         1   1        1              1        1       1           1</span>
<span id="cb26-5"><a href="#cb26-5"></a>   2 21      1         0         0   2        0              1        0       0           0</span>
<span id="cb26-6"><a href="#cb26-6"></a>   3 42      0         0         0   0        2              1        0       1           1</span>
<span id="cb26-7"><a href="#cb26-7"></a>   4 32      2         0         2   3        1              0        0       0           0</span>
<span id="cb26-8"><a href="#cb26-8"></a>   5 34      0         0         1   0        0              0        0       0           0</span>
<span id="cb26-9"><a href="#cb26-9"></a>   6 48      0         0         1   0        1              0        0       1           0</span>
<span id="cb26-10"><a href="#cb26-10"></a>[ reached max_ndoc ... 234 more documents, reached max_nfeat ... 30,575 more features ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="sparsity" class="slide level2">
<h2>Sparsity</h2>
<ul>
<li><p>DTMs are called <strong>sparse</strong> because they contain a lot of zeros</p></li>
<li><p>More technically, a set of numbers (e.g.&nbsp;vector, matrix, etc.), is considered <strong>sparse</strong> when a high percentage of the values are assigned a constant default value (e.g.&nbsp;zero)</p></li>
<li><p>Sparsity creates some problems:</p>
<ul>
<li>Increase in model complexity (leads to more coefficients/features being included in the model)</li>
<li>Risk for overfitting: With too many features, models tend to fit the noise in the data and not generalize well</li>
<li>Size of the data set: Leads to computationally expensive procedures</li>
</ul></li>
</ul>
</section>
<section id="tidy-text-format-is-less-sparse" class="slide level2">
<h2>Tidy text format is less sparse</h2>
<ul>
<li><p>The tidy text format is considerably less sparse as it doesn’t include any zeros (there are no rows for words that are not included in the document!)</p></li>
<li><p>Can speed up computations, but also allows us to stay within the framework established by the <code>tidyverse</code></p></li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb27" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>tidy_text <span class="sc">|&gt;</span> </span>
<span id="cb27-2"><a href="#cb27-2"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb28"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb28-1"><a href="#cb28-1"></a># A tibble: 431,846 × 3</span>
<span id="cb28-2"><a href="#cb28-2"></a>   docid word      n</span>
<span id="cb28-3"><a href="#cb28-3"></a>   &lt;int&gt; &lt;chr&gt; &lt;int&gt;</span>
<span id="cb28-4"><a href="#cb28-4"></a> 1   122 the    2887</span>
<span id="cb28-5"><a href="#cb28-5"></a> 2   124 the    2516</span>
<span id="cb28-6"><a href="#cb28-6"></a> 3   119 the    2432</span>
<span id="cb28-7"><a href="#cb28-7"></a> 4   201 the    2376</span>
<span id="cb28-8"><a href="#cb28-8"></a> 5   123 the    2347</span>
<span id="cb28-9"><a href="#cb28-9"></a> 6   111 the    2338</span>
<span id="cb28-10"><a href="#cb28-10"></a> 7    60 the    2182</span>
<span id="cb28-11"><a href="#cb28-11"></a> 8   110 the    2154</span>
<span id="cb28-12"><a href="#cb28-12"></a> 9   199 the    2143</span>
<span id="cb28-13"><a href="#cb28-13"></a>10   158 the    2142</span>
<span id="cb28-14"><a href="#cb28-14"></a># ℹ 431,836 more rows</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb29" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="co"># Cells in the DTM format</span></span>
<span id="cb29-2"><a href="#cb29-2"></a><span class="fu">length</span>(dfm_text) <span class="sc">*</span> <span class="fu">nrow</span>(dfm_text)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb30"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb30-1"><a href="#cb30-1"></a>[1] 1761696000</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode cell-code" id="cb31" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="co"># Cells in the tidy format</span></span>
<span id="cb31-2"><a href="#cb31-2"></a><span class="fu">length</span>(tidy_text) <span class="sc">*</span> <span class="fu">nrow</span>(tidy_text)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb32"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb32-1"><a href="#cb32-1"></a>[1] 1295538</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="bag-of-words-approach" class="slide level2">
<h2>“Bag-of-Words” Approach</h2>
<ul>
<li><p>Both representations follow the so-called “bag-of-word” model</p></li>
<li><p>Such a model disregards grammar and word order and only focus on word frequencies</p></li>
</ul>

<img data-src="img/bagofwords.png" class="r-stretch"></section>
<section id="descriptive-analyses-of-the-bag-of-word-model" class="slide level2">
<h2>Descriptive analyses of the “bag-of-word” model</h2>
<ul>
<li><p>Since the tidy token list is a regular data frame, we can simply group by word and summarize to get frequency information</p></li>
<li><p>This way, we can compute a variety of descriptive frequencies such as word frequency overall, occurence in number of speeches, occurrence in all speeches, etc.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb33" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a>sotu_tokens <span class="ot">&lt;-</span> sotu_text <span class="sc">|&gt;</span></span>
<span id="cb33-2"><a href="#cb33-2"></a>  <span class="fu">unnest_tokens</span>(word, text)                             <span class="co"># &lt;-- tokenize into words</span></span>
<span id="cb33-3"><a href="#cb33-3"></a>frequencies <span class="ot">&lt;-</span> sotu_tokens <span class="sc">|&gt;</span>          </span>
<span id="cb33-4"><a href="#cb33-4"></a>  <span class="fu">group_by</span>(word) <span class="sc">|&gt;</span>                                     <span class="co"># &lt;-- group by word</span></span>
<span id="cb33-5"><a href="#cb33-5"></a>  <span class="fu">summarize</span>(<span class="at">termfreq=</span><span class="fu">n</span>(),                               <span class="co"># &lt;-- computer overall occurrences of a word</span></span>
<span id="cb33-6"><a href="#cb33-6"></a>            <span class="at">docfreq=</span><span class="fu">length</span>(<span class="fu">unique</span>(docid)),              <span class="co"># &lt;-- number of speeches in which it occurs</span></span>
<span id="cb33-7"><a href="#cb33-7"></a>            <span class="at">relfreq=</span>(docfreq<span class="sc">/</span><span class="fu">nrow</span>(sotu_text))<span class="sc">*</span><span class="dv">100</span>) <span class="sc">|&gt;</span>   <span class="co"># &lt;-- relative occurrence in all speeches</span></span>
<span id="cb33-8"><a href="#cb33-8"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>termfreq, <span class="sc">-</span>docfreq)                          <span class="co"># &lt;-- sort results</span></span>
<span id="cb33-9"><a href="#cb33-9"></a><span class="fu">head</span>(frequencies, <span class="at">n =</span> <span class="dv">8</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb34"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb34-1"><a href="#cb34-1"></a># A tibble: 8 × 4</span>
<span id="cb34-2"><a href="#cb34-2"></a>  word  termfreq docfreq relfreq</span>
<span id="cb34-3"><a href="#cb34-3"></a>  &lt;chr&gt;    &lt;int&gt;   &lt;int&gt;   &lt;dbl&gt;</span>
<span id="cb34-4"><a href="#cb34-4"></a>1 the     165601     240     100</span>
<span id="cb34-5"><a href="#cb34-5"></a>2 of      106402     240     100</span>
<span id="cb34-6"><a href="#cb34-6"></a>3 and      68063     240     100</span>
<span id="cb34-7"><a href="#cb34-7"></a>4 to       68037     240     100</span>
<span id="cb34-8"><a href="#cb34-8"></a>5 in       43429     240     100</span>
<span id="cb34-9"><a href="#cb34-9"></a>6 a        31342     240     100</span>
<span id="cb34-10"><a href="#cb34-10"></a>7 that     24113     240     100</span>
<span id="cb34-11"><a href="#cb34-11"></a>8 for      21701     240     100</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="the-un-avoidable-wordcloud" class="slide level2">
<h2>The (un-)avoidable wordcloud</h2>
<div class="columns">
<div class="column" style="width:48%;">
<ul>
<li><p>One of the most famous text visualizations is the word cloud, an image where each word is displayed in a size that is representative of its frequency.</p></li>
<li><p>Word clouds are often criticized since they are (sometimes) pretty but mostly not very informative.</p></li>
<li><p>Only a single aspect of the words is visualized (frequency), which is often not that informative: the most frequent words are generally uninformative “stop words” like “the” and “I”.</p></li>
</ul>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb35" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a><span class="fu">library</span>(ggwordcloud)</span>
<span id="cb35-2"><a href="#cb35-2"></a>frequencies <span class="sc">|&gt;</span> </span>
<span id="cb35-3"><a href="#cb35-3"></a>  <span class="fu">slice_max</span>(termfreq, <span class="at">n =</span> <span class="dv">100</span>) <span class="sc">|&gt;</span> </span>
<span id="cb35-4"><a href="#cb35-4"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb35-5"><a href="#cb35-5"></a>  <span class="fu">geom_text_wordcloud</span>(<span class="fu">aes</span>(<span class="at">label =</span> word,</span>
<span id="cb35-6"><a href="#cb35-6"></a>                          <span class="at">size =</span> termfreq,</span>
<span id="cb35-7"><a href="#cb35-7"></a>                          <span class="at">color =</span> termfreq),</span>
<span id="cb35-8"><a href="#cb35-8"></a>                      <span class="at">rm_outside =</span> T) <span class="sc">+</span></span>
<span id="cb35-9"><a href="#cb35-9"></a>  <span class="fu">theme_void</span>(<span class="at">base_size =</span> <span class="dv">15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="02_textanalysis_2023_files/figure-revealjs/unnamed-chunk-18-1.png" width="480"></p>
</div>
</div>
</div>
</div>
</section>
<section id="alternative-better-visualization" class="slide level2">
<h2>Alternative (better?) visualization</h2>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb36" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a>frequencies <span class="sc">|&gt;</span> </span>
<span id="cb36-2"><a href="#cb36-2"></a>  <span class="fu">slice_max</span>(termfreq, <span class="at">n =</span> <span class="dv">30</span>) <span class="sc">|&gt;</span> </span>
<span id="cb36-3"><a href="#cb36-3"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_reorder</span>(word, termfreq), </span>
<span id="cb36-4"><a href="#cb36-4"></a>             <span class="at">y =</span> termfreq, </span>
<span id="cb36-5"><a href="#cb36-5"></a>             <span class="at">fill =</span> termfreq)) <span class="sc">+</span></span>
<span id="cb36-6"><a href="#cb36-6"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb36-7"><a href="#cb36-7"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb36-8"><a href="#cb36-8"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb36-9"><a href="#cb36-9"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb36-10"><a href="#cb36-10"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Token frequency"</span>, </span>
<span id="cb36-11"><a href="#cb36-11"></a>       <span class="at">y =</span> <span class="st">""</span>, </span>
<span id="cb36-12"><a href="#cb36-12"></a>       <span class="at">title =</span> <span class="st">"Most frequent words in the SOTU corpus"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column fragment">
<div class="cell-output-display">
<p><img data-src="02_textanalysis_2023_files/figure-revealjs/unnamed-chunk-19-1.png" width="480"></p>
</div>
</div>
</div>
</section>
<section id="weighting-and-selecting-documents-and-terms" class="slide level2">
<h2>Weighting and Selecting Documents and Terms</h2>
<ul>
<li><p>So far, the text-as-numbers representations simply show the count of each word in each document.</p></li>
<li><p>Many words, however, are not informative for many questions.</p></li>
<li><p>This was especially apparent if you look at the last word cloud, in which the most frequent words were “the”, “of”, “and”, “to”, etc.</p></li>
<li><p>An unfiltered document-term matrix contains a lot of relevant information: For example, if a president uses the word “terrorism” more often than the word “economy”, that could be an indication of their policy priorities.</p></li>
<li><p>However, there is also a lot of noise crowding out this signal, which is why we engage in a form of weighting and selecting (also known as text preprocessing or cleaning)</p></li>
</ul>
</section>
<section id="text-cleaning-stemming-lemmatizing" class="slide level2">
<h2>Text cleaning, stemming, lemmatizing</h2>
<ul>
<li><p>Text contains a lot of noise</p>
<ul>
<li>Very uncommon words</li>
<li>Spelling, scraping mistakes (HTML code, boilerplate, etc)</li>
<li>Stop words (e.g., a, the, I, will)</li>
<li>Conjugations of the same word (want, wants)</li>
<li>Near synonyms (wants, loves)</li>
</ul></li>
<li><p>Cleaning steps needed to reduce noise:</p>
<ul>
<li>Removing unnecessary symbols (e.g., punctuations, numbers…)</li>
<li>Removing stopwords (e.g., ‘a’, ‘the’…)</li>
<li>Frequency trimming (removing rare words)</li>
<li>Normalization: Stemming (wants -&gt; want) <em>OR</em> lemmatizing (ran -&gt; run)</li>
<li>Frequency transformation: tf-idf</li>
</ul></li>
</ul>
</section>
<section id="removing-stopwords" class="slide level2">
<h2>Removing stopwords</h2>
<ul>
<li><p>Common words that carry little (or perhaps no) meaningful information are called <strong>stop words</strong> (e.g., ‘a’, ‘the’, ‘didn’t’, ‘of’…)</p></li>
<li><p>It is common advice and practice to remove stop words for various text analysis tasks, but stop word removal is more nuanced than many resources may lead you to believe</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb37" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a>sotu_tokens <span class="sc">|&gt;</span> <span class="fu">pull</span>(word) <span class="sc">|&gt;</span> <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">8</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb38"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb38-1"><a href="#cb38-1"></a>[1] "fellow"   "citizens" "of"       "the"      "senate"   "and"      "house"   </span>
<span id="cb38-2"><a href="#cb38-2"></a>[8] "of"      </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode cell-code" id="cb39" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a>sotu_tokens <span class="sc">|&gt;</span> <span class="fu">anti_join</span>(stop_words, <span class="at">by =</span> <span class="st">"word"</span>) <span class="sc">|&gt;</span> <span class="fu">pull</span>(word) <span class="sc">|&gt;</span> <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb40"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb40-1"><a href="#cb40-1"></a>[1] "fellow"          "citizens"        "senate"          "house"          </span>
<span id="cb40-2"><a href="#cb40-2"></a>[5] "representatives" "embrace"         "satisfaction"    "opportunity"    </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="trimming-overally-infrequent-words" class="slide level2">
<h2>Trimming overally infrequent words</h2>
<ul>
<li><p>A second useful step can be to trim (or prune) the most infrequent words.</p></li>
<li><p>These words are often a relatively large part of the total vocabulary, but play only a very minor role in most analyses.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb41" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a>sotu_tokens <span class="sc">|&gt;</span> <span class="fu">pull</span>(word) <span class="sc">|&gt;</span> <span class="fu">unique</span>() <span class="sc">|&gt;</span> <span class="fu">length</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb42"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb42-1"><a href="#cb42-1"></a>[1] 30585</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode cell-code" id="cb43" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a>sotu_tokens <span class="sc">|&gt;</span> <span class="fu">group_by</span>(word) <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="fu">n</span>() <span class="sc">&gt;=</span> <span class="dv">100</span>) <span class="sc">|&gt;</span> <span class="fu">pull</span>(word) <span class="sc">|&gt;</span> <span class="fu">unique</span>() <span class="sc">|&gt;</span> <span class="fu">length</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb44"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb44-1"><a href="#cb44-1"></a>[1] 2108</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="normalization-stemming" class="slide level2">
<h2>Normalization: Stemming</h2>
<ul>
<li><p>What if we aren’t interested in the difference between e.g., “trees” and “tree” and we want to treat both together?</p></li>
<li><p>Stemming refers to the process of identifying the base word (or stem) for a data set of words and is thus concerned with the linguistics subfield of morphology (i.e., how words are formed).</p></li>
</ul>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb45" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a>sotu_tokens <span class="sc">|&gt;</span></span>
<span id="cb45-2"><a href="#cb45-2"></a>  <span class="fu">mutate</span>(<span class="at">stem =</span> SnowballC<span class="sc">::</span><span class="fu">wordStem</span>(word)) <span class="sc">|&gt;</span></span>
<span id="cb45-3"><a href="#cb45-3"></a>  <span class="fu">select</span>(word, stem) <span class="sc">|&gt;</span></span>
<span id="cb45-4"><a href="#cb45-4"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="dv">12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column fragment">
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb46"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb46-1"><a href="#cb46-1"></a># A tibble: 1,988,203 × 2</span>
<span id="cb46-2"><a href="#cb46-2"></a>   word            stem   </span>
<span id="cb46-3"><a href="#cb46-3"></a>   &lt;chr&gt;           &lt;chr&gt;  </span>
<span id="cb46-4"><a href="#cb46-4"></a> 1 fellow          fellow </span>
<span id="cb46-5"><a href="#cb46-5"></a> 2 citizens        citizen</span>
<span id="cb46-6"><a href="#cb46-6"></a> 3 of              of     </span>
<span id="cb46-7"><a href="#cb46-7"></a> 4 the             the    </span>
<span id="cb46-8"><a href="#cb46-8"></a> 5 senate          senat  </span>
<span id="cb46-9"><a href="#cb46-9"></a> 6 and             and    </span>
<span id="cb46-10"><a href="#cb46-10"></a> 7 house           hous   </span>
<span id="cb46-11"><a href="#cb46-11"></a> 8 of              of     </span>
<span id="cb46-12"><a href="#cb46-12"></a> 9 representatives repres </span>
<span id="cb46-13"><a href="#cb46-13"></a>10 i               i      </span>
<span id="cb46-14"><a href="#cb46-14"></a>11 embrace         embrac </span>
<span id="cb46-15"><a href="#cb46-15"></a>12 with            with   </span>
<span id="cb46-16"><a href="#cb46-16"></a># ℹ 1,988,191 more rows</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="normalization-lemmatization" class="slide level2">
<h2>Normalization: Lemmatization</h2>
<ul>
<li><p>Instead of using set rules to cut words down to their stems, lemmatization uses knowledge about a language’s structure to reduce words down to their lemmas, the canonical or dictionary forms of words</p></li>
<li><p>Lemmatizers use a rich lexical database like ‘WordNet’ to look up word meanings for a given part-of-speech use (Miller 1995)</p></li>
<li><p>We can use the package <code>textstem</code> to lemmatize our words</p></li>
</ul>
<div class="cell columns column-output-location" data-r.options="{&quot;width&quot;:80}">
<div class="column">
<div class="sourceCode cell-code" id="cb47" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a>sotu_tokens <span class="sc">|&gt;</span></span>
<span id="cb47-2"><a href="#cb47-2"></a>  <span class="fu">mutate</span>(<span class="at">lemmata =</span> textstem<span class="sc">::</span><span class="fu">lemmatize_words</span>(word)) <span class="sc">|&gt;</span></span>
<span id="cb47-3"><a href="#cb47-3"></a>  <span class="fu">select</span>(word, lemmata) <span class="sc">|&gt;</span></span>
<span id="cb47-4"><a href="#cb47-4"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="dv">12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column fragment">
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb48"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb48-1"><a href="#cb48-1"></a># A tibble: 1,988,203 × 2</span>
<span id="cb48-2"><a href="#cb48-2"></a>   word            lemmata       </span>
<span id="cb48-3"><a href="#cb48-3"></a>   &lt;chr&gt;           &lt;chr&gt;         </span>
<span id="cb48-4"><a href="#cb48-4"></a> 1 fellow          fellow        </span>
<span id="cb48-5"><a href="#cb48-5"></a> 2 citizens        citizen       </span>
<span id="cb48-6"><a href="#cb48-6"></a> 3 of              of            </span>
<span id="cb48-7"><a href="#cb48-7"></a> 4 the             the           </span>
<span id="cb48-8"><a href="#cb48-8"></a> 5 senate          senate        </span>
<span id="cb48-9"><a href="#cb48-9"></a> 6 and             and           </span>
<span id="cb48-10"><a href="#cb48-10"></a> 7 house           house         </span>
<span id="cb48-11"><a href="#cb48-11"></a> 8 of              of            </span>
<span id="cb48-12"><a href="#cb48-12"></a> 9 representatives representative</span>
<span id="cb48-13"><a href="#cb48-13"></a>10 i               i             </span>
<span id="cb48-14"><a href="#cb48-14"></a>11 embrace         embrace       </span>
<span id="cb48-15"><a href="#cb48-15"></a>12 with            with          </span>
<span id="cb48-16"><a href="#cb48-16"></a># ℹ 1,988,191 more rows</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="the-effect-of-such-text-cleaning" class="slide level2">
<h2>The effect of such text cleaning</h2>

<img data-src="02_textanalysis_2023_files/figure-revealjs/unnamed-chunk-24-1.png" width="960" class="r-stretch"></section>
<section id="tf-idf-transformation-weighting" class="slide level2">
<h2>tf-idf transformation (weighting)</h2>
<ul>
<li><p>So far, we looked at how frequent a word occurs in a document (speech).</p></li>
<li><p>Another approach is to look at a term’s <em>inverse document frequency</em> (idf), which decreases the weight for commonly used words and increases the weight for words that are not used very much in a collection of documents.</p></li>
<li><p>This can be combined with term frequency to calculate a term’s tf-idf (the two quantities multiplied together), the frequency of a term adjusted for how rarely it is used.</p></li>
</ul>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb49" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a>sotu_if_idf <span class="ot">&lt;-</span> sotu_tokens <span class="sc">|&gt;</span></span>
<span id="cb49-2"><a href="#cb49-2"></a>  <span class="fu">filter</span>(president <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Barack Obama"</span>, </span>
<span id="cb49-3"><a href="#cb49-3"></a>                          <span class="st">"Donald Trump"</span>, </span>
<span id="cb49-4"><a href="#cb49-4"></a>                          <span class="st">"George W. Bush"</span>, </span>
<span id="cb49-5"><a href="#cb49-5"></a>                          <span class="st">"William J. Clinton"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb49-6"><a href="#cb49-6"></a>  <span class="fu">anti_join</span>(stop_words, <span class="at">by =</span> <span class="st">"word"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb49-7"><a href="#cb49-7"></a>  <span class="fu">group_by</span>(president, word) <span class="sc">|&gt;</span></span>
<span id="cb49-8"><a href="#cb49-8"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span></span>
<span id="cb49-9"><a href="#cb49-9"></a>  <span class="fu">bind_tf_idf</span>(word, president, n) <span class="sc">|&gt;</span></span>
<span id="cb49-10"><a href="#cb49-10"></a>  <span class="fu">group_by</span>(president) <span class="sc">|&gt;</span> </span>
<span id="cb49-11"><a href="#cb49-11"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>tf_idf)</span>
<span id="cb49-12"><a href="#cb49-12"></a>sotu_if_idf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column fragment">
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb50"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb50-1"><a href="#cb50-1"></a># A tibble: 16,700 × 6</span>
<span id="cb50-2"><a href="#cb50-2"></a># Groups:   president [4]</span>
<span id="cb50-3"><a href="#cb50-3"></a>   president          word         n       tf   idf  tf_idf</span>
<span id="cb50-4"><a href="#cb50-4"></a>   &lt;chr&gt;              &lt;chr&gt;    &lt;int&gt;    &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;</span>
<span id="cb50-5"><a href="#cb50-5"></a> 1 Donald Trump       applause   117 0.0121   0.288 0.00347</span>
<span id="cb50-6"><a href="#cb50-6"></a> 2 Donald Trump       isis        13 0.00134  1.39  0.00186</span>
<span id="cb50-7"><a href="#cb50-7"></a> 3 George W. Bush     iraqis      20 0.00116  1.39  0.00161</span>
<span id="cb50-8"><a href="#cb50-8"></a> 4 Donald Trump       ice         11 0.00114  1.39  0.00157</span>
<span id="cb50-9"><a href="#cb50-9"></a> 5 Donald Trump       totally     10 0.00103  1.39  0.00143</span>
<span id="cb50-10"><a href="#cb50-10"></a> 6 George W. Bush     11th        17 0.000985 1.39  0.00137</span>
<span id="cb50-11"><a href="#cb50-11"></a> 7 William J. Clinton welfare     89 0.00392  0.288 0.00113</span>
<span id="cb50-12"><a href="#cb50-12"></a> 8 George W. Bush     saddam      25 0.00145  0.693 0.00100</span>
<span id="cb50-13"><a href="#cb50-13"></a> 9 Donald Trump       birthday     7 0.000722 1.39  0.00100</span>
<span id="cb50-14"><a href="#cb50-14"></a>10 Donald Trump       c.j          7 0.000722 1.39  0.00100</span>
<span id="cb50-15"><a href="#cb50-15"></a># ℹ 16,690 more rows</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="most-important-words-in-presidents-speeches" class="slide level2">
<h2>Most “important” words in presidents’ speeches</h2>
<p>The statistic <strong>tf-idf</strong> is intended to measure how important a word is to a document in a collection of documents, for example, to one president in a collection of speeches:</p>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb51" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a>sotu_if_idf <span class="sc">|&gt;</span> </span>
<span id="cb51-2"><a href="#cb51-2"></a>  <span class="fu">slice_max</span>(tf_idf, <span class="at">n =</span> <span class="dv">15</span>) <span class="sc">%&gt;%</span></span>
<span id="cb51-3"><a href="#cb51-3"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb51-4"><a href="#cb51-4"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> tf_idf, </span>
<span id="cb51-5"><a href="#cb51-5"></a>             <span class="at">y =</span> <span class="fu">fct_reorder</span>(word, tf_idf), </span>
<span id="cb51-6"><a href="#cb51-6"></a>             <span class="at">fill =</span> president)) <span class="sc">+</span></span>
<span id="cb51-7"><a href="#cb51-7"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb51-8"><a href="#cb51-8"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>president, <span class="at">ncol =</span> <span class="dv">2</span>, </span>
<span id="cb51-9"><a href="#cb51-9"></a>             <span class="at">scales =</span> <span class="st">"free_y"</span>) <span class="sc">+</span></span>
<span id="cb51-10"><a href="#cb51-10"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"tf-idf"</span>, <span class="at">y =</span> <span class="cn">NULL</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column fragment">
<div class="cell-output-display">
<p><img data-src="02_textanalysis_2023_files/figure-revealjs/unnamed-chunk-26-1.png" width="480"></p>
</div>
</div>
</div>
</section></section>
<section id="break-5-minutes" class="title-slide slide level1 center" data-background-color="black">
<h1>Break (5 Minutes)</h1>

</section>

<section>
<section id="deductive-approaches-dictionary-analysis" class="title-slide slide level1 center" data-background-color="steelblue">
<h1>Deductive Approaches: Dictionary Analysis</h1>
<p>Using fixed set of terms per concept to automatically code texts.</p>
</section>
<section id="what-are-deductive-approaches" class="slide level2">
<h2>What are deductive approaches?</h2>
<div class="columns">
<div class="column" style="width:58%;">
<ul>
<li><p>Quite old technique of content analysis (since 60s)</p></li>
<li><p>Coding rules are set <em>a priori</em> by researcher based on a predefined “text theory”</p></li>
<li><p>Computer then uses these rules to decode text in a deterministic way</p></li>
<li><p>Rules can differ substantially:</p>
<ul>
<li>based on individual words or group of words (e.g., articles that contain “government” are coded as “politics”)</li>
<li>based on patterns (e.g., the sender of a mail can be identified by looking for “FROM:”)</li>
<li>combinations of both</li>
</ul></li>
</ul>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:40%;">
<p><img data-src="img/timeline/Slide2.png"></p>
</div>
</div>
</section>
<section id="text-classification-pipeline-using-dictionaries" class="slide level2">
<h2>Text Classification Pipeline Using Dictionaries</h2>

<img data-src="img/text_analysis_fundamentals/Slide01.png" class="r-stretch"></section>
<section id="text-classification-pipeline-using-dictionaries-1" class="slide level2">
<h2>Text Classification Pipeline Using Dictionaries</h2>

<img data-src="img/text_analysis_fundamentals/Slide02.png" class="r-stretch"></section>
<section id="keyword-in-context-searches" class="slide level2">
<h2>Keyword-in-Context Searches</h2>
<ul>
<li><p>The basic idea of a dictionary is to look for one or several keywords in the text</p></li>
<li><p>So-called “keyword-in-context” searches can be very helpful to understand how these words have been used in different documents (here: speeches)</p></li>
</ul>
<div class="cell" data-r.options="{&quot;width&quot;:160}">
<div class="sourceCode cell-code" id="cb52" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a><span class="fu">options</span>(<span class="at">width =</span> <span class="dv">250</span>)</span>
<span id="cb52-2"><a href="#cb52-2"></a><span class="fu">library</span>(ccsamsterdamR)</span>
<span id="cb52-3"><a href="#cb52-3"></a><span class="fu">tidy_kwic</span>(sotu_text, <span class="st">"terror"</span>, <span class="at">window =</span> <span class="dv">5</span>) <span class="sc">|&gt;</span></span>
<span id="cb52-4"><a href="#cb52-4"></a>  <span class="fu">select</span>(pre<span class="sc">:</span>docid, president, year) <span class="sc">|&gt;</span></span>
<span id="cb52-5"><a href="#cb52-5"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">18</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb53"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb53-1"><a href="#cb53-1"></a>                        pre s1           target s2                              post docid             president year</span>
<span id="cb53-2"><a href="#cb53-2"></a>1                lose their  |      terror       | fortifications in those              29          James Monroe 1817</span>
<span id="cb53-3"><a href="#cb53-3"></a>2                    of its  |     terrors       | not withstanding the                 42        Andrew Jackson 1830</span>
<span id="cb53-4"><a href="#cb53-4"></a>3                spread its  |     terrors       | not with standing                    44        Andrew Jackson 1832</span>
<span id="cb53-5"><a href="#cb53-5"></a>4               of constant  |      terror       | and annoyance to                     62      Millard Fillmore 1850</span>
<span id="cb53-6"><a href="#cb53-6"></a>5                    by the  |      terror       | of confiscation and                  79        Andrew Johnson 1867</span>
<span id="cb53-7"><a href="#cb53-7"></a>6                 to spread  |      terror       | among those whose                    86      Ulysses S. Grant 1874</span>
<span id="cb53-8"><a href="#cb53-8"></a>7            amphitrite and  |      terror       | have been launched                   95     Chester A. Arthur 1883</span>
<span id="cb53-9"><a href="#cb53-9"></a>8          monitors puritan  |      terror       | and amphitrite contracted            96     Chester A. Arthur 1884</span>
<span id="cb53-10"><a href="#cb53-10"></a>9               of constant  |      terror       | to the settlers                      98      Grover Cleveland 1886</span>
<span id="cb53-11"><a href="#cb53-11"></a>10         defense monitors  |      terror       | puritan amphitrite and              105      Grover Cleveland 1893</span>
<span id="cb53-12"><a href="#cb53-12"></a>11             of tyrannous  |      terror       | the peace of                        116    Theodore Roosevelt 1904</span>
<span id="cb53-13"><a href="#cb53-13"></a>12               the german  |      terror       | and whom we                         130        Woodrow Wilson 1918</span>
<span id="cb53-14"><a href="#cb53-14"></a>13                blood and  |      terror       | is a painful                        131        Woodrow Wilson 1919</span>
<span id="cb53-15"><a href="#cb53-15"></a>14             countries by  |      terror       | and force and                       136       Calvin Coolidge 1924</span>
<span id="cb53-16"><a href="#cb53-16"></a>15                 with the  |      terror       | and despair of                      149 Franklin D. Roosevelt 1938</span>
<span id="cb53-17"><a href="#cb53-17"></a>16                  hope of  |   terrorizing     | our people and                      153 Franklin D. Roosevelt 1942</span>
<span id="cb53-18"><a href="#cb53-18"></a>17                   by the  |      terror       | of nazi domination                  156 Franklin D. Roosevelt 1945</span>
<span id="cb53-19"><a href="#cb53-19"></a>18                 reign of  |      terror       | in europe nineteen                  156 Franklin D. Roosevelt 1945</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="getting-a-dictionary-for-emotions" class="slide level2">
<h2>Getting a dictionary for emotions</h2>
<ul>
<li>For this example, we are going to use the NRC word-emotion association lexicon (Mohammad &amp; Turney, 2013)</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb54" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a><span class="fu">library</span>(textdata)</span>
<span id="cb54-2"><a href="#cb54-2"></a>nrc <span class="ot">&lt;-</span> <span class="fu">lexicon_nrc</span>()</span>
<span id="cb54-3"><a href="#cb54-3"></a><span class="fu">head</span>(nrc) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb55"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb55-1"><a href="#cb55-1"></a># A tibble: 6 × 2</span>
<span id="cb55-2"><a href="#cb55-2"></a>  word      sentiment</span>
<span id="cb55-3"><a href="#cb55-3"></a>  &lt;chr&gt;     &lt;chr&gt;    </span>
<span id="cb55-4"><a href="#cb55-4"></a>1 abacus    trust    </span>
<span id="cb55-5"><a href="#cb55-5"></a>2 abandon   fear     </span>
<span id="cb55-6"><a href="#cb55-6"></a>3 abandon   negative </span>
<span id="cb55-7"><a href="#cb55-7"></a>4 abandon   sadness  </span>
<span id="cb55-8"><a href="#cb55-8"></a>5 abandoned anger    </span>
<span id="cb55-9"><a href="#cb55-9"></a>6 abandoned fear     </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb56" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a>nrc <span class="sc">%&gt;%</span></span>
<span id="cb56-2"><a href="#cb56-2"></a>  <span class="fu">group_by</span>(sentiment) <span class="sc">|&gt;</span> <span class="co"># &lt;-- group by sentiment</span></span>
<span id="cb56-3"><a href="#cb56-3"></a>  <span class="fu">tally</span>()                <span class="co"># &lt;-- count words</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb57"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb57-1"><a href="#cb57-1"></a># A tibble: 10 × 2</span>
<span id="cb57-2"><a href="#cb57-2"></a>   sentiment        n</span>
<span id="cb57-3"><a href="#cb57-3"></a>   &lt;chr&gt;        &lt;int&gt;</span>
<span id="cb57-4"><a href="#cb57-4"></a> 1 anger         1245</span>
<span id="cb57-5"><a href="#cb57-5"></a> 2 anticipation   837</span>
<span id="cb57-6"><a href="#cb57-6"></a> 3 disgust       1056</span>
<span id="cb57-7"><a href="#cb57-7"></a> 4 fear          1474</span>
<span id="cb57-8"><a href="#cb57-8"></a> 5 joy            687</span>
<span id="cb57-9"><a href="#cb57-9"></a> 6 negative      3316</span>
<span id="cb57-10"><a href="#cb57-10"></a> 7 positive      2308</span>
<span id="cb57-11"><a href="#cb57-11"></a> 8 sadness       1187</span>
<span id="cb57-12"><a href="#cb57-12"></a> 9 surprise       532</span>
<span id="cb57-13"><a href="#cb57-13"></a>10 trust         1230</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="feature-engineering-for-dictionary-approaches" class="slide level2">
<h2>Feature Engineering for dictionary approaches</h2>
<ul>
<li><p>For dictionary analyses, we need to extract words as dictionaries contain word lists the reflect a particular concept</p></li>
<li><p>But we also want to make sure that the words from the raw texts are transformed in a way that the reflect their true form (i.e., how it is likely to be included in the dictionary)</p></li>
<li><p>Stemming wouldn’t work because most dictionaries do not include word stems, yet lemmatization is meaningful as it reduces e.g., plural to singular, etc.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb58" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a><span class="co"># Without lemmatization</span></span>
<span id="cb58-2"><a href="#cb58-2"></a>sotu_dict <span class="ot">&lt;-</span> sotu_text <span class="sc">|&gt;</span></span>
<span id="cb58-3"><a href="#cb58-3"></a>  <span class="fu">unnest_tokens</span>(word, text)            </span>
<span id="cb58-4"><a href="#cb58-4"></a></span>
<span id="cb58-5"><a href="#cb58-5"></a><span class="co"># With lemmatization</span></span>
<span id="cb58-6"><a href="#cb58-6"></a>sotu_dict2 <span class="ot">&lt;-</span> sotu_text <span class="sc">|&gt;</span></span>
<span id="cb58-7"><a href="#cb58-7"></a>  <span class="fu">unnest_tokens</span>(word, text) <span class="sc">|&gt;</span>          </span>
<span id="cb58-8"><a href="#cb58-8"></a>  <span class="fu">mutate</span>(<span class="at">word =</span> textstem<span class="sc">::</span><span class="fu">lemmatize_words</span>(word))  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="the-actual-dictionary-analysis" class="slide level2">
<h2>The Actual Dictionary Analysis</h2>
<div class="columns">
<div class="column" style="width:45%;">
<ul>
<li><p>We use the text corpus containing all speeches</p></li>
<li><p>We tokenize the speeches (separating them into words)</p></li>
<li><p>We can explore lemmatization as meaningful feature engineering</p></li>
<li><p>We join the dictionary and the tokenized data set (note how <code>left_join()</code> preserves unmatched tokens)</p></li>
</ul>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb59" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1"></a><span class="co"># Combining raw text tokens and emotion dictionary</span></span>
<span id="cb59-2"><a href="#cb59-2"></a>sotu_emotions <span class="ot">&lt;-</span> <span class="fu">left_join</span>(sotu_dict, nrc, </span>
<span id="cb59-3"><a href="#cb59-3"></a>                           <span class="at">relationship =</span> <span class="st">"many-to-many"</span>) </span>
<span id="cb59-4"><a href="#cb59-4"></a></span>
<span id="cb59-5"><a href="#cb59-5"></a><span class="co"># Combining lemmatized text tokens and emotion dictionary</span></span>
<span id="cb59-6"><a href="#cb59-6"></a>sotu_emotions2 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(sotu_dict2, nrc, </span>
<span id="cb59-7"><a href="#cb59-7"></a>                            <span class="at">relationship =</span> <span class="st">"many-to-many"</span>) </span>
<span id="cb59-8"><a href="#cb59-8"></a></span>
<span id="cb59-9"><a href="#cb59-9"></a><span class="co"># Comparison</span></span>
<span id="cb59-10"><a href="#cb59-10"></a>sotu_emotions  <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(sentiment)) <span class="sc">|&gt;</span> <span class="fu">nrow</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb60"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb60-1"><a href="#cb60-1"></a>[1] 552320</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode cell-code" id="cb61" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1"></a>sotu_emotions2 <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(sentiment)) <span class="sc">|&gt;</span> <span class="fu">nrow</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb62"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb62-1"><a href="#cb62-1"></a>[1] 698513</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="descriptive-analyses-with-the-new-created-dataset" class="slide level2">
<h2>Descriptive analyses with the new created dataset</h2>
<ul>
<li><p>The result of our dictionary analysis is a new column called “sentiment”, which contains the codes for particular words in the speeches</p></li>
<li><p>This new data set contains all information needed to do a more substantial analysis</p></li>
</ul>
<div class="cell" data-r.options="{&quot;width&quot;:120}">
<div class="sourceCode cell-code" id="cb63" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a><span class="fu">head</span>(sotu_emotions2, <span class="at">n =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb64"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb64-1"><a href="#cb64-1"></a># A tibble: 10 × 8</span>
<span id="cb64-2"><a href="#cb64-2"></a>   docid president          year years_active party       sotu_type word           sentiment</span>
<span id="cb64-3"><a href="#cb64-3"></a>   &lt;int&gt; &lt;chr&gt;             &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt;     &lt;chr&gt;          &lt;chr&gt;    </span>
<span id="cb64-4"><a href="#cb64-4"></a> 1     1 George Washington  1790 1789-1793    Nonpartisan speech    fellow         positive </span>
<span id="cb64-5"><a href="#cb64-5"></a> 2     1 George Washington  1790 1789-1793    Nonpartisan speech    fellow         trust    </span>
<span id="cb64-6"><a href="#cb64-6"></a> 3     1 George Washington  1790 1789-1793    Nonpartisan speech    citizen        positive </span>
<span id="cb64-7"><a href="#cb64-7"></a> 4     1 George Washington  1790 1789-1793    Nonpartisan speech    of             &lt;NA&gt;     </span>
<span id="cb64-8"><a href="#cb64-8"></a> 5     1 George Washington  1790 1789-1793    Nonpartisan speech    the            &lt;NA&gt;     </span>
<span id="cb64-9"><a href="#cb64-9"></a> 6     1 George Washington  1790 1789-1793    Nonpartisan speech    senate         trust    </span>
<span id="cb64-10"><a href="#cb64-10"></a> 7     1 George Washington  1790 1789-1793    Nonpartisan speech    and            &lt;NA&gt;     </span>
<span id="cb64-11"><a href="#cb64-11"></a> 8     1 George Washington  1790 1789-1793    Nonpartisan speech    house          &lt;NA&gt;     </span>
<span id="cb64-12"><a href="#cb64-12"></a> 9     1 George Washington  1790 1789-1793    Nonpartisan speech    of             &lt;NA&gt;     </span>
<span id="cb64-13"><a href="#cb64-13"></a>10     1 George Washington  1790 1789-1793    Nonpartisan speech    representative &lt;NA&gt;     </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="emotionality-per-speech" class="slide level2">
<h2>Emotionality per speech</h2>
<ul>
<li>For example, we can compute the amount of words coded with a particular emotions per speech</li>
</ul>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb65" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1"></a><span class="fu">library</span>(ggridges)</span>
<span id="cb65-2"><a href="#cb65-2"></a></span>
<span id="cb65-3"><a href="#cb65-3"></a><span class="co"># Summarize data</span></span>
<span id="cb65-4"><a href="#cb65-4"></a>sotu_plot_data <span class="ot">&lt;-</span> sotu_emotions2 <span class="sc">|&gt;</span></span>
<span id="cb65-5"><a href="#cb65-5"></a>  <span class="fu">group_by</span>(docid, sentiment) <span class="sc">|&gt;</span></span>
<span id="cb65-6"><a href="#cb65-6"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span></span>
<span id="cb65-7"><a href="#cb65-7"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> n<span class="sc">/</span><span class="fu">sum</span>(n))</span>
<span id="cb65-8"><a href="#cb65-8"></a>sotu_plot_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column fragment">
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb66"><pre class="sourceCode numberSource output number-lines code-with-copy"><code class="sourceCode"><span id="cb66-1"><a href="#cb66-1"></a># A tibble: 2,640 × 4</span>
<span id="cb66-2"><a href="#cb66-2"></a># Groups:   docid [240]</span>
<span id="cb66-3"><a href="#cb66-3"></a>   docid sentiment        n    prop</span>
<span id="cb66-4"><a href="#cb66-4"></a>   &lt;int&gt; &lt;chr&gt;        &lt;int&gt;   &lt;dbl&gt;</span>
<span id="cb66-5"><a href="#cb66-5"></a> 1     1 anger           10 0.00756</span>
<span id="cb66-6"><a href="#cb66-6"></a> 2     1 anticipation    55 0.0416 </span>
<span id="cb66-7"><a href="#cb66-7"></a> 3     1 disgust          4 0.00303</span>
<span id="cb66-8"><a href="#cb66-8"></a> 4     1 fear            20 0.0151 </span>
<span id="cb66-9"><a href="#cb66-9"></a> 5     1 joy             40 0.0303 </span>
<span id="cb66-10"><a href="#cb66-10"></a> 6     1 negative        23 0.0174 </span>
<span id="cb66-11"><a href="#cb66-11"></a> 7     1 positive       159 0.120  </span>
<span id="cb66-12"><a href="#cb66-12"></a> 8     1 sadness          6 0.00454</span>
<span id="cb66-13"><a href="#cb66-13"></a> 9     1 surprise        24 0.0182 </span>
<span id="cb66-14"><a href="#cb66-14"></a>10     1 trust           98 0.0741 </span>
<span id="cb66-15"><a href="#cb66-15"></a># ℹ 2,630 more rows</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="emotionality-per-speech-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Emotionality per speech</h2>
<ul>
<li>For example, we can compute the amount of words coded with a particular emotions per speech</li>
</ul>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb67" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb67-1" class="hljs-ln-code"><a href="#cb67-1"></a><span class="fu">library</span>(ggridges)</span>
<span id="cb67-2" class="hljs-ln-code"><a href="#cb67-2"></a></span>
<span id="cb67-3" class="hljs-ln-code"><a href="#cb67-3"></a><span class="co"># Summarize data</span></span>
<span id="cb67-4" class="hljs-ln-code"><a href="#cb67-4"></a>sotu_plot_data <span class="ot">&lt;-</span> sotu_emotions2 <span class="sc">|&gt;</span></span>
<span id="cb67-5" class="hljs-ln-code"><a href="#cb67-5"></a>  <span class="fu">group_by</span>(docid, sentiment) <span class="sc">|&gt;</span>   </span>
<span id="cb67-6" class="hljs-ln-code"><a href="#cb67-6"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span>            </span>
<span id="cb67-7" class="hljs-ln-code"><a href="#cb67-7"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> n<span class="sc">/</span><span class="fu">sum</span>(n)) <span class="sc">|&gt;</span>       </span>
<span id="cb67-8" class="hljs-ln-code"><a href="#cb67-8"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(sentiment))        </span>
<span id="cb67-9" class="hljs-ln-code"><a href="#cb67-9"></a></span>
<span id="cb67-10" class="hljs-ln-code"><a href="#cb67-10"></a><span class="co"># Plotting the data</span></span>
<span id="cb67-11" class="hljs-ln-code"><a href="#cb67-11"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb67-12" class="hljs-ln-code"><a href="#cb67-12"></a> <span class="fu">geom_line</span>(<span class="at">data =</span> sotu_plot_data,  </span>
<span id="cb67-13" class="hljs-ln-code"><a href="#cb67-13"></a>           <span class="fu">aes</span>(<span class="at">x =</span> sentiment, <span class="at">y =</span> prop<span class="sc">*</span><span class="dv">100</span>, </span>
<span id="cb67-14" class="hljs-ln-code"><a href="#cb67-14"></a>               <span class="at">group =</span> docid), </span>
<span id="cb67-15" class="hljs-ln-code"><a href="#cb67-15"></a>           <span class="at">linewidth =</span> .<span class="dv">5</span>,</span>
<span id="cb67-16" class="hljs-ln-code"><a href="#cb67-16"></a>           <span class="at">alpha =</span> .<span class="dv">05</span>, <span class="at">color =</span> <span class="st">"grey50"</span>)<span class="sc">+</span></span>
<span id="cb67-17" class="hljs-ln-code"><a href="#cb67-17"></a> <span class="fu">geom_line</span>(<span class="at">data =</span> sotu_plot_data <span class="sc">|&gt;</span> <span class="fu">filter</span>(docid <span class="sc">==</span> <span class="dv">1</span>), </span>
<span id="cb67-18" class="hljs-ln-code"><a href="#cb67-18"></a>           <span class="fu">aes</span>(<span class="at">x =</span> sentiment, <span class="at">y =</span> prop<span class="sc">*</span><span class="dv">100</span>, <span class="at">group =</span> <span class="dv">1</span>), </span>
<span id="cb67-19" class="hljs-ln-code"><a href="#cb67-19"></a>           <span class="at">linewidth =</span> <span class="dv">2</span>, </span>
<span id="cb67-20" class="hljs-ln-code"><a href="#cb67-20"></a>           <span class="at">color =</span> <span class="st">"steelblue"</span>, </span>
<span id="cb67-21" class="hljs-ln-code"><a href="#cb67-21"></a>           <span class="at">alpha =</span> .<span class="dv">6</span>) <span class="sc">+</span></span>
<span id="cb67-22" class="hljs-ln-code"><a href="#cb67-22"></a> <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="st">"fear"</span>, <span class="at">y =</span> <span class="fl">8.5</span>, <span class="at">size =</span> <span class="fl">4.5</span>,</span>
<span id="cb67-23" class="hljs-ln-code"><a href="#cb67-23"></a>          <span class="at">label =</span> <span class="st">"First speech by Washington"</span>,</span>
<span id="cb67-24" class="hljs-ln-code"><a href="#cb67-24"></a>          <span class="at">color =</span> <span class="st">"steelblue"</span>, ) <span class="sc">+</span></span>
<span id="cb67-25" class="hljs-ln-code"><a href="#cb67-25"></a> <span class="fu">theme_ridges</span>(<span class="at">font_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb67-26" class="hljs-ln-code"><a href="#cb67-26"></a> <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb67-27" class="hljs-ln-code"><a href="#cb67-27"></a> <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> <span class="st">"Proportion of words in speech"</span>,</span>
<span id="cb67-28" class="hljs-ln-code"><a href="#cb67-28"></a>      <span class="at">title =</span> <span class="st">"Emotionality in SOTU speeches"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column fragment">
<div class="cell-output-display">
<p><img data-src="02_textanalysis_2023_files/figure-revealjs/unnamed-chunk-34-1.png" width="624"></p>
</div>
</div>
</div>
</section>
<section id="emotions-over-the-years" class="slide level2">
<h2>Emotions over the years</h2>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb68" data-code-line-numbers="true"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a><span class="co"># Summarize data</span></span>
<span id="cb68-2"><a href="#cb68-2"></a>sotu_emo_time <span class="ot">&lt;-</span> sotu_emotions2 <span class="sc">|&gt;</span>   </span>
<span id="cb68-3"><a href="#cb68-3"></a>  <span class="fu">group_by</span>(year, sentiment) <span class="sc">|&gt;</span>        </span>
<span id="cb68-4"><a href="#cb68-4"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>())  <span class="sc">|&gt;</span>              </span>
<span id="cb68-5"><a href="#cb68-5"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n)) <span class="sc">|&gt;</span>        </span>
<span id="cb68-6"><a href="#cb68-6"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span>                       </span>
<span id="cb68-7"><a href="#cb68-7"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(sentiment))          </span>
<span id="cb68-8"><a href="#cb68-8"></a></span>
<span id="cb68-9"><a href="#cb68-9"></a><span class="co"># Plot the summarized data</span></span>
<span id="cb68-10"><a href="#cb68-10"></a><span class="fu">ggplot</span>(sotu_emo_time) <span class="sc">+</span></span>
<span id="cb68-11"><a href="#cb68-11"></a>  <span class="fu">geom_ridgeline</span>(<span class="fu">aes</span>(<span class="at">x=</span>year, <span class="at">y=</span>sentiment, </span>
<span id="cb68-12"><a href="#cb68-12"></a>                     <span class="at">height=</span>prop<span class="sc">/</span><span class="fu">max</span>(prop), </span>
<span id="cb68-13"><a href="#cb68-13"></a>                     <span class="at">fill=</span>sentiment)) <span class="sc">+</span></span>
<span id="cb68-14"><a href="#cb68-14"></a>  <span class="fu">theme_ridges</span>() <span class="sc">+</span> </span>
<span id="cb68-15"><a href="#cb68-15"></a>  <span class="fu">guides</span>(<span class="at">fill=</span><span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb68-16"><a href="#cb68-16"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Emotionality over the years"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column fragment">
<div class="cell-output-display">
<p><img data-src="02_textanalysis_2023_files/figure-revealjs/unnamed-chunk-35-1.png" width="576"></p>
</div>
</div>
</div>
</section>
<section id="validation" class="slide level2">
<h2>Validation</h2>
<ul>
<li><p>To estimate the validity of our dictionary analysis, we manually code a random sample of the documents and compare the coding with the dictionary results</p></li>
<li><p>General procedure</p>
<ul>
<li>Draw a random subsample of the documents</li>
<li>Code actual documents with human coders (the ‘gold standard’)</li>
<li>Combine the manual coding results with the results from the automated sentiment analysis</li>
<li>Produce reliability and validation scores, e.g., correlation between manual and automated coding, precision, recall…</li>
</ul></li>
<li><p>Agreement with manual coding, which is often regarded as the ‘gold-standard’, is often seen as validity (but this holds only if human beings are inerrant!)</p></li>
</ul>
</section>
<section id="validation-procedure" class="slide level2">
<h2>Validation procedure</h2>

<img data-src="img/validation.png" class="r-stretch"></section>
<section id="confusion-matrix" class="slide level2">
<h2>Confusion Matrix</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p><img data-src="img/confusionmatrix.png"></p>
</div><div class="column" style="width:60%;">
<ul>
<li><p>Basis for all validity/performance scores is always the confusion matrix between algorithm and manual coder that assessed the same content</p></li>
<li><p>Disadvantages</p>
<ul>
<li>No correction of random chance agreements</li>
<li>only nominal scales</li>
<li>no accounting for missings</li>
</ul></li>
<li><p>Alternative: Cronbach’s Alpha (but often seen as too strict)</p></li>
</ul>
</div>
</div>
</section>
<section id="typical-validityperformance-scores" class="slide level2">
<h2>Typical validity/performance scores</h2>
<ul>
<li><p>Whereas we talk about “reliability and validity” in the context of statistical measurement theory, we usually talk about “performance” in the context of text classification</p></li>
<li><p>From the confusion matrix, we can compute all relevant performance scores:</p>
<ul>
<li><p><strong>Accuracy:</strong> Share of correct classifications overall (sum of the diagonale / sum of the entire matrix)</p></li>
<li><p><strong>Precision:</strong> Probability of a positively coded document is relevant</p></li>
<li><p><strong>Recall:</strong> Probability that a relevant document is coded positively</p></li>
<li><p><strong>F1-Score:</strong> Mean between precision and recall</p></li>
</ul></li>
</ul>
</section>
<section id="performance-scores" class="slide level2">
<h2>Performance scores</h2>
<div class="columns">
<div class="column" style="width:35%;">
<p><img data-src="img/confusionmatrix2.png"></p>
</div><div class="column" style="width:65%;">
<ul>
<li><p>No clear thresholds: need to be assessed in the research context, but values closer to 1 are desirable</p></li>
<li><p>Can be used to compare the performance of different approaches!</p></li>
</ul>
</div>
</div>
<p><br></p>
<p><img data-src="img/performance.png"></p>
</section>
<section id="advantages-and-disadvantages" class="slide level2">
<h2>Advantages and disadvantages</h2>
<ul>
<li><p>Advantages:</p>
<ul>
<li>Technically easy, many dictionaries exists</li>
<li>Transparent and replicable, if dictionary is shared</li>
<li>Few resources needed, efficient</li>
</ul></li>
<li><p>Disadvantages:</p>
<ul>
<li>Low validity for non-trivial concepts (sentiment, frames, specific topics)
<ul>
<li>categories needs be identifiable by simple word lists</li>
<li>needs to be tested sufficiently (Validation!!!)</li>
</ul></li>
<li>May require considerable preprocessing to reduce ambiguity</li>
<li>Difficult to create/maintain large dictionaries</li>
<li>Can encode biases</li>
</ul></li>
</ul>
</section>
<section id="how-can-we-develop-a-dictionary" class="slide level2">
<h2>How can we develop a dictionary?</h2>
<ul>
<li><p>Define categories</p></li>
<li><p>Inspecting keywords-in-context lists</p></li>
<li><p>Manually coding and comparing word frequencies per category</p></li>
<li><p>Inclusion of different spellings</p></li>
<li><p>Deletion of words the lead to false-positives</p></li>
<li><p>Testing, testing, testing…</p></li>
</ul>
</section></section>
<section>
<section id="examples-in-the-literature" class="title-slide slide level1 center" data-background-color="steelblue">
<h1>Examples in the literature</h1>
<p>Studies that used the dictionary approach</p>
</section>
<section id="example-1-sourcing-pandemic-news-mellado-et-al" class="slide level2">
<h2>Example 1: Sourcing Pandemic News (Mellado et al)</h2>
<div class="columns">
<div class="column" style="width:70%;">
<ul>
<li><p>The study analyzes the sources and actors present in more than 940,000 posts on COVID-19 published in the 227 Facebook, Instagram, and Twitter accounts of 78 sampled news outlets between January 1 and December 31 of 2020</p></li>
<li><p>The analysis shows the dominance of political sources across countries and platforms, particularly in Latin America</p></li>
<li><p>It demonstrates the strong role of the state in constructing pandemic news and suggesting that mainstream news organizations’ social media posts maintain a strong elite orientation</p></li>
<li><p>Health sources were also prominent, while significant diversity of sources, including citizen sources, emerged as the pandemic went on</p></li>
</ul>
</div><div class="column" style="width:30%;">
<p><img data-src="https://images.pexels.com/photos/3902732/pexels-photo-3902732.jpeg"></p>
</div>
</div>
<p><span style="font-size:0.75em;">Mellado et al., 2021</span></p>
</section>
<section id="example-1-methods" class="slide level2">
<h2>Example 1: Methods</h2>
<ul>
<li><p>The authors identified eleven categories (political, business, health, scientific and academic sources, police/security, legal, civil society, citizen, media, sports, and celebrity sources)</p></li>
<li><p>The broke these down into sub-categories that represent formal positions, names of individuals, institutions, organizations and groups, as well as each of their nicknames and acronyms (if any).</p></li>
<li><p>Each national team was responsible for translating the sub-categories into their own language</p></li>
<li><p>Based on this, a manual <strong>dictionary</strong> was created for the seven countries included in the study, which contains over (10,102) entities that belonged to each sub-category at the time of data collection</p></li>
<li><p>This dictionary was used to categorize all posts automatically</p></li>
</ul>
</section>
<section id="example-1-results---source-distribution-per-country" class="slide level2">
<h2>Example 1: Results - Source distribution per country</h2>

<img data-src="img/Mellado_table2.png" class="r-stretch"></section>
<section id="example-1-results---source-distribution-over-time" class="slide level2">
<h2>Example 1: Results - Source distribution over time</h2>

<img data-src="img/Mellado_fig1.png" class="r-stretch"></section>
<section id="example-2-political-migration-on-social-media" class="slide level2">
<h2>Example 2: Political migration on social media</h2>
<div class="columns">
<div class="column" style="width:65%;">
<ul>
<li><p>Heidenreich and colleagues (2019), analyzed migration discourses in the Facebook accounts of political actors (n=1702) across six European countries (Spain, UK, Germany, Austria, Sweden and Poland)</p></li>
<li><p>present new insights into the visibility of migration as a topic</p></li>
<li><p>investigated sentiment about migration, revealing country- and party-specific patterns</p></li>
</ul>
</div><div class="column" style="width:35%;">
<p><img data-src="https://images.pexels.com/photos/6168/hands-woman-laptop-notebook.jpg"></p>
</div>
</div>
<p><span style="font-size:0.75em;">Heidenreich et al., 2019</span></p>
</section>
<section id="example-2-methods" class="slide level2">
<h2>Example 2: Methods</h2>
<div class="columns">
<div class="column" style="width:55%;">
<ul>
<li><p>Downloaded textual data for all migration-related posts (n = 24,578) of members of parliaments (n = 1702) in six countries</p></li>
<li><p>Used automated contend analysis to estimate sentiment towards migration in each post</p></li>
<li><p>Machine translated the whole corpus into English</p></li>
</ul>
<p><img data-src="img/heidenreich_table1.png"></p>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:40%;">
<ul>
<li><p>Used a dictionary-approach (Lexicoder; Young and Soroka, 2012) to cound positive and negative words</p></li>
<li><p>Computed sentiment for each document by calculating as the sum of the scores for all words bearing positive sentiment minus the sum of all scores from negative words, divided by the number of words.</p></li>
</ul>
</div>
</div>
</section>
<section id="example-2-results---visibility" class="slide level2">
<h2>Example 2: Results - Visibility</h2>
<div class="column" style="width:45%;">
<ul>
<li><p>In Germany and Austria there is indeed descriptive evidence that parties of the right discuss migration more frequently in their Facebook status posts than other parties</p></li>
<li><p>Conversely, in Spain, the UK and Poland the topic tended to be more prominent in the posts of left-wing parties</p></li>
<li><p>At first glance, Sweden seems to be an outlier.</p></li>
<li><p>In sum there is no consistent overall pattern supporting the hypothesis that right wing parties pay more attention to the topic of migration on Facebook than left leaning parties</p></li>
</ul>
</div>
<div class="column" style="width:5%;">

</div>
<div class="column" style="width:45%;">
<p><img data-src="img/heidenreich_table2.png"></p>
</div>
</section>
<section id="example-2-results---sentiment" class="slide level2">
<h2>Example 2: Results - Sentiment</h2>

<img data-src="img/heidenreich_table3.png" class="r-stretch"></section>
<section id="example-2-results---predicting-sentiment" class="slide level2">
<h2>Example 2: Results - Predicting sentiment</h2>

<img data-src="img/heidenreich_table4.png" class="r-stretch"></section>
<section id="example-2-conclusion" class="slide level2">
<h2>Example 2: Conclusion</h2>
<ul>
<li><p>Migration is a more prominent in countries with positive net migration than in countries where net migration is neutral or negative</p></li>
<li><p>They did not find support for the assumption that right-leaning parties talk more, and more negatively, about migration</p></li>
<li><p>However, political actors from parties of the extreme left and the extreme right of the political spectrum address migration more frequently and more negatively than more moderate political players</p></li>
<li><p>Potential limitations</p>
<ul>
<li>How valid is the automated translation of text into English?</li>
<li>How valid is the sentiment approximation based on dictionaries?</li>
</ul></li>
</ul>
</section></section>
<section>
<section id="summary-and-conclusion" class="title-slide slide level1 center" data-background-color="steelblue">
<h1>Summary and Conclusion</h1>
<p>What have we learned?</p>
</section>
<section id="overview" class="slide level2">
<h2>Overview</h2>

<img data-src="img/text_analysis_fundamentals/Slide02.png" class="r-stretch"></section>
<section id="conclusion" class="slide level2">
<h2>Conclusion</h2>
<ul>
<li><p>Automated text analysis is a useful for working with large-scale text corpora</p></li>
<li><p>Dictionaries can be extremely helpful in detecting certain specific terms (e.g., authors, certain words, labels, names…)</p></li>
<li><p>Yet, they are not very good at coding more complex concepts.</p></li>
<li><p>After all, their validity depends on how well a concept can be represented by a simple word list</p></li>
<li><p>We always need to validate our analysis using manually coded material!</p></li>
</ul>
</section>
<section id="section-1" class="slide level2" data-background-image="img/britishlibrary.jpg">
<h2></h2>
</section>
<section id="required-reading" class="slide level2">
<h2>Required Reading</h2>
<p><br><br></p>
<ul>
<li><p>Welbers, K., Van Atteveldt, W., &amp; Benoit, K. (2017). Text analysis in R. Communication Methods and Measures, 11(4), 245-265.</p></li>
<li><p>Heidenreich, T., Eberl, J.-M., Lind, F. &amp; Boomgaarden, H. (2020). Political migration discourses on social media: a comparative perspective on visibility and sentiment across political Facebook accounts in Europe. Journal of Ethnic and Migration Studies, (46)7, 1261-1280, https://doi.org/10.1080/1369183X.2019.1665990</p></li>
<li><p>Mellado, C., Hallin, D., Cárcamo, L. Alfaro, R. … &amp; Ramos, A. (2021) Sourcing Pandemic News: A Cross-National Computational Analysis of Mainstream Media Coverage of COVID-19 on Facebook, Twitter, and Instagram. Digital Journalism, 9(9), 1271-1295, https://doi.org/10.1080/21670811.2021.1942114</p></li>
</ul>
<p><br></p>
<p><em>(available on Canvas)</em></p>
</section>
<section id="references" class="slide level2 smaller">
<h2>References</h2>
<ul>
<li><p>Boumans, J. W., &amp; Trilling, D. (2016). Taking stock of the toolkit: An overview of relevant automated content analysis approaches and techniques for digital journalism scholars. Digital journalism, 4(1), 8-23.</p></li>
<li><p>Heidenreich, T., Eberl, J.-M., Lind, F. &amp; Boomgaarden, H. (2020). Political migration discourses on social media: a comparative perspective on visibility and sentiment across political Facebook accounts in Europe. Journal of Ethnic and Migration Studies, (46)7, 1261-1280, DOI: 10.1080/1369183X.2019.1665990</p></li>
<li><p>Hilbert, M., &amp; López, P. (2011). The World’s Technological Capacity to Store, Communicate, and Compute Information. Science, 332(6025), 60 –65. https://doi.org/10.1126/science.1200970</p></li>
<li><p>Hvitfeld, E. &amp; Silge, J. (2021). Supervised Machine Learning for Text Analysis in R. CRC Press. https://smltar.com/</p></li>
<li><p>Krippendorff, K. (2004). Content Analysis. Sage.</p></li>
<li><p>Mohammad, S. and Turney, P. (2013). Crowdsourcing a Word-Emotion Association Lexicon. Computational Intelligence, 29(3): 436-465.</p></li>
<li><p>Xue, S. (1982). Chinese Lexicography Past and Present, Dictionaries, 4, 151–169. https://doi.org/10.1353/dic.1982.0009</p></li>
</ul>
</section>
<section id="example-exam-question-multiple-choice" class="slide level2">
<h2>Example Exam Question (Multiple Choice)</h2>
<p>When using dictionaries, a very important step refers to “transforming the text to structured data” of feature engineering. What are typical preprocessing steps in this phase?</p>
<p><br></p>
<p>A. Tokenization, translation, combination, and frequency trimming.</p>
<p>B. Tokenization, stopword removal, normalization, and frequency trimming.</p>
<p>C. Tokenization, inclusion of annotations, interpretation, and frequency trimming.</p>
<p>D. Tokenization, stopword removal, combination, and inclusion of annotations.</p>
</section>
<section id="example-exam-question-multiple-choice-1" class="slide level2">
<h2>Example Exam Question (Multiple Choice)</h2>
<p>When using dictionaries, a very important step refers to “transforming the text to structured data” of feature engineering. What are typical preprocessing steps in this phase?</p>
<p><br></p>
<p>A. Tokenization, translation, combination, and frequency trimming.</p>
<p><strong>B. Tokenization, stopword removal, normalization, and frequency trimming.</strong></p>
<p>C. Tokenization, inclusion of annotations, interpretation, and frequency trimming.</p>
<p>D. Tokenization, stopword removal, combination, and inclusion of annotations.</p>
</section>
<section id="example-exam-question-open-format" class="slide level2">
<h2>Example Exam Question (Open Format)</h2>
<p>Name and explain two disadvantages of dictionary approaches. <br> <em>(4 points, 2 points for correctly naming two disadvantages and 2 points for correctly explaining them)</em></p>
<div class="fragment">
<ol type="1">
<li><p>Low validity: Dictionary approaches measure the concepts of interest based on simple word lists. Particularly with non-trivial and complex concepts (e.g., sentiment, frames, topics,…), the assumption that this word in a reliable and valid way may be problematic. For example, true sentiment is more than just counting positive and negative words.</p></li>
<li><p>May requires considerable text preprocessing: To reduce ambiguity, dictionary approaches require a lot of text preprocessing (e.g., removing stopwords, punctuation, numbers, stemming, lemmatization). For example, the word “like” would be coded as a positive word in most sentiment dictionaries, but in most sentences, it only refers to something being “like” something else.</p></li>
</ol>
</div>
</section></section>
<section id="thank-you-for-your-attention" class="title-slide slide level1 center" data-background-color="steelblue">
<h1>Thank you for your attention!</h1>

<img src="img/logo.png" class="slide-logo r-stretch"><div class="footer footer-default">
<p>Computational Analysis of Digital Communication</p>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="02_textanalysis_2023_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="02_textanalysis_2023_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="02_textanalysis_2023_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="02_textanalysis_2023_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="02_textanalysis_2023_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="02_textanalysis_2023_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="02_textanalysis_2023_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="02_textanalysis_2023_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="02_textanalysis_2023_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="02_textanalysis_2023_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        function fireSlideChanged(previousSlide, currentSlide) {

          // dispatch for htmlwidgets
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for reveal
        if (window.Reveal) {
          window.Reveal.addEventListener("slidechanged", function(event) {
            fireSlideChanged(event.previousSlide, event.currentSlide);
          });
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        setTimeout(function() {
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const cites = ref.parentNode.getAttribute('data-cites').split(' ');
        tippyHover(ref, function() {
          var popup = window.document.createElement('div');
          cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    });
    </script>
    

</body></html>